(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function gm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Uc={exports:{}},jo={},zc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function i_(){if(lp)return we;lp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.iterator;function F(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,X={};function Q(N,b,ae){this.props=N,this.context=b,this.refs=X,this.updater=ae||B}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,b){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,b,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ge(){}ge.prototype=Q.prototype;function ye(N,b,ae){this.props=N,this.context=b,this.refs=X,this.updater=ae||B}var _e=ye.prototype=new ge;_e.constructor=ye,Y(_e,Q.prototype),_e.isPureReactComponent=!0;var Ie=Array.isArray,Je=Object.prototype.hasOwnProperty,Ve={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(N,b,ae){var ve,Ee={},Re=null,xe=null;if(b!=null)for(ve in b.ref!==void 0&&(xe=b.ref),b.key!==void 0&&(Re=""+b.key),b)Je.call(b,ve)&&!V.hasOwnProperty(ve)&&(Ee[ve]=b[ve]);var Le=arguments.length-2;if(Le===1)Ee.children=ae;else if(1<Le){for(var ze=Array(Le),pt=0;pt<Le;pt++)ze[pt]=arguments[pt+2];Ee.children=ze}if(N&&N.defaultProps)for(ve in Le=N.defaultProps,Le)Ee[ve]===void 0&&(Ee[ve]=Le[ve]);return{$$typeof:i,type:N,key:Re,ref:xe,props:Ee,_owner:Ve.current}}function A(N,b){return{$$typeof:i,type:N.type,key:b,ref:N.ref,props:N.props,_owner:N._owner}}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var b={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return b[ae]})}var x=/\/+/g;function S(N,b){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):b.toString(36)}function Ze(N,b,ae,ve,Ee){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var xe=!1;if(N===null)xe=!0;else switch(Re){case"string":case"number":xe=!0;break;case"object":switch(N.$$typeof){case i:case e:xe=!0}}if(xe)return xe=N,Ee=Ee(xe),N=ve===""?"."+S(xe,0):ve,Ie(Ee)?(ae="",N!=null&&(ae=N.replace(x,"$&/")+"/"),Ze(Ee,b,ae,"",function(pt){return pt})):Ee!=null&&(k(Ee)&&(Ee=A(Ee,ae+(!Ee.key||xe&&xe.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+N)),b.push(Ee)),1;if(xe=0,ve=ve===""?".":ve+":",Ie(N))for(var Le=0;Le<N.length;Le++){Re=N[Le];var ze=ve+S(Re,Le);xe+=Ze(Re,b,ae,ze,Ee)}else if(ze=F(N),typeof ze=="function")for(N=ze.call(N),Le=0;!(Re=N.next()).done;)Re=Re.value,ze=ve+S(Re,Le++),xe+=Ze(Re,b,ae,ze,Ee);else if(Re==="object")throw b=String(N),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return xe}function Ct(N,b,ae){if(N==null)return N;var ve=[],Ee=0;return Ze(N,ve,"","",function(Re){return b.call(ae,Re,Ee++)}),ve}function Pt(N){if(N._status===-1){var b=N._result;b=b(),b.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=b)}if(N._status===1)return N._result.default;throw N._result}var Fe={current:null},J={transition:null},ue={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ve};function ee(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Ct,forEach:function(N,b,ae){Ct(N,function(){b.apply(this,arguments)},ae)},count:function(N){var b=0;return Ct(N,function(){b++}),b},toArray:function(N){return Ct(N,function(b){return b})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},we.Component=Q,we.Fragment=n,we.Profiler=a,we.PureComponent=ye,we.StrictMode=s,we.Suspense=y,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,we.act=ee,we.cloneElement=function(N,b,ae){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ve=Y({},N.props),Ee=N.key,Re=N.ref,xe=N._owner;if(b!=null){if(b.ref!==void 0&&(Re=b.ref,xe=Ve.current),b.key!==void 0&&(Ee=""+b.key),N.type&&N.type.defaultProps)var Le=N.type.defaultProps;for(ze in b)Je.call(b,ze)&&!V.hasOwnProperty(ze)&&(ve[ze]=b[ze]===void 0&&Le!==void 0?Le[ze]:b[ze])}var ze=arguments.length-2;if(ze===1)ve.children=ae;else if(1<ze){Le=Array(ze);for(var pt=0;pt<ze;pt++)Le[pt]=arguments[pt+2];ve.children=Le}return{$$typeof:i,type:N.type,key:Ee,ref:Re,props:ve,_owner:xe}},we.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},we.createElement=I,we.createFactory=function(N){var b=I.bind(null,N);return b.type=N,b},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:m,render:N}},we.isValidElement=k,we.lazy=function(N){return{$$typeof:w,_payload:{_status:-1,_result:N},_init:Pt}},we.memo=function(N,b){return{$$typeof:E,type:N,compare:b===void 0?null:b}},we.startTransition=function(N){var b=J.transition;J.transition={};try{N()}finally{J.transition=b}},we.unstable_act=ee,we.useCallback=function(N,b){return Fe.current.useCallback(N,b)},we.useContext=function(N){return Fe.current.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N){return Fe.current.useDeferredValue(N)},we.useEffect=function(N,b){return Fe.current.useEffect(N,b)},we.useId=function(){return Fe.current.useId()},we.useImperativeHandle=function(N,b,ae){return Fe.current.useImperativeHandle(N,b,ae)},we.useInsertionEffect=function(N,b){return Fe.current.useInsertionEffect(N,b)},we.useLayoutEffect=function(N,b){return Fe.current.useLayoutEffect(N,b)},we.useMemo=function(N,b){return Fe.current.useMemo(N,b)},we.useReducer=function(N,b,ae){return Fe.current.useReducer(N,b,ae)},we.useRef=function(N){return Fe.current.useRef(N)},we.useState=function(N){return Fe.current.useState(N)},we.useSyncExternalStore=function(N,b,ae){return Fe.current.useSyncExternalStore(N,b,ae)},we.useTransition=function(){return Fe.current.useTransition()},we.version="18.3.1",we}var up;function vh(){return up||(up=1,zc.exports=i_()),zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function s_(){if(cp)return jo;cp=1;var i=vh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,E){var w,C={},F=null,B=null;E!==void 0&&(F=""+E),y.key!==void 0&&(F=""+y.key),y.ref!==void 0&&(B=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(C[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)C[w]===void 0&&(C[w]=y[w]);return{$$typeof:e,type:m,key:F,ref:B,props:C,_owner:a.current}}return jo.Fragment=n,jo.jsx=f,jo.jsxs=f,jo}var hp;function o_(){return hp||(hp=1,Uc.exports=s_()),Uc.exports}var be=o_(),$n=vh();const a_=gm($n);var Rl={},Bc={exports:{}},Wt={},jc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function l_(){return fp||(fp=1,function(i){function e(J,ue){var ee=J.length;J.push(ue);e:for(;0<ee;){var N=ee-1>>>1,b=J[N];if(0<a(b,ue))J[N]=ue,J[ee]=b,ee=N;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ue=J[0],ee=J.pop();if(ee!==ue){J[0]=ee;e:for(var N=0,b=J.length,ae=b>>>1;N<ae;){var ve=2*(N+1)-1,Ee=J[ve],Re=ve+1,xe=J[Re];if(0>a(Ee,ee))Re<b&&0>a(xe,Ee)?(J[N]=xe,J[Re]=ee,N=Re):(J[N]=Ee,J[ve]=ee,N=ve);else if(Re<b&&0>a(xe,ee))J[N]=xe,J[Re]=ee,N=Re;else break e}}return ue}function a(J,ue){var ee=J.sortIndex-ue.sortIndex;return ee!==0?ee:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],E=[],w=1,C=null,F=3,B=!1,Y=!1,X=!1,Q=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(J){for(var ue=n(E);ue!==null;){if(ue.callback===null)s(E);else if(ue.startTime<=J)s(E),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=n(E)}}function Ie(J){if(X=!1,_e(J),!Y)if(n(y)!==null)Y=!0,Pt(Je);else{var ue=n(E);ue!==null&&Fe(Ie,ue.startTime-J)}}function Je(J,ue){Y=!1,X&&(X=!1,ge(I),I=-1),B=!0;var ee=F;try{for(_e(ue),C=n(y);C!==null&&(!(C.expirationTime>ue)||J&&!D());){var N=C.callback;if(typeof N=="function"){C.callback=null,F=C.priorityLevel;var b=N(C.expirationTime<=ue);ue=i.unstable_now(),typeof b=="function"?C.callback=b:C===n(y)&&s(y),_e(ue)}else s(y);C=n(y)}if(C!==null)var ae=!0;else{var ve=n(E);ve!==null&&Fe(Ie,ve.startTime-ue),ae=!1}return ae}finally{C=null,F=ee,B=!1}}var Ve=!1,V=null,I=-1,A=5,k=-1;function D(){return!(i.unstable_now()-k<A)}function x(){if(V!==null){var J=i.unstable_now();k=J;var ue=!0;try{ue=V(!0,J)}finally{ue?S():(Ve=!1,V=null)}}else Ve=!1}var S;if(typeof ye=="function")S=function(){ye(x)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Ct=Ze.port2;Ze.port1.onmessage=x,S=function(){Ct.postMessage(null)}}else S=function(){Q(x,0)};function Pt(J){V=J,Ve||(Ve=!0,S())}function Fe(J,ue){I=Q(function(){J(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){Y||B||(Y=!0,Pt(Je))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return F},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(J){switch(F){case 1:case 2:case 3:var ue=3;break;default:ue=F}var ee=F;F=ue;try{return J()}finally{F=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=F;F=J;try{return ue()}finally{F=ee}},i.unstable_scheduleCallback=function(J,ue,ee){var N=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?N+ee:N):ee=N,J){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ee+b,J={id:w++,callback:ue,priorityLevel:J,startTime:ee,expirationTime:b,sortIndex:-1},ee>N?(J.sortIndex=ee,e(E,J),n(y)===null&&J===n(E)&&(X?(ge(I),I=-1):X=!0,Fe(Ie,ee-N))):(J.sortIndex=b,e(y,J),Y||B||(Y=!0,Pt(Je))),J},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(J){var ue=F;return function(){var ee=F;F=ue;try{return J.apply(this,arguments)}finally{F=ee}}}}(bc)),bc}var dp;function u_(){return dp||(dp=1,jc.exports=l_()),jc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function c_(){if(pp)return Wt;pp=1;var i=vh(),e=u_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},C={};function F(t){return y.call(C,t)?!0:y.call(w,t)?!1:E.test(t)?C[t]=!0:(w[t]=!0,!1)}function B(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y(t,r,o,u){if(r===null||typeof r>"u"||B(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function X(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Q[t]=new X(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];Q[r]=new X(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Q[t]=new X(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Q[t]=new X(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Q[t]=new X(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Q[t]=new X(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Q[t]=new X(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Q[t]=new X(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Q[t]=new X(t,5,!1,t.toLowerCase(),null,!1,!1)});var ge=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ge,ye);Q[r]=new X(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ge,ye);Q[r]=new X(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ge,ye);Q[r]=new X(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Q[t]=new X(t,1,!1,t.toLowerCase(),null,!1,!1)}),Q.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Q[t]=new X(t,1,!1,t.toLowerCase(),null,!0,!0)});function _e(t,r,o,u){var h=Q.hasOwnProperty(r)?Q[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Y(r,o,h,u)&&(o=null),u||h===null?F(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Ie=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Je=Symbol.for("react.element"),Ve=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),J=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,N;function b(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var ae=!1;function ve(t,r){if(!t||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,T=p.length-1;1<=_&&0<=T&&h[_]!==p[T];)T--;for(;1<=_&&0<=T;_--,T--)if(h[_]!==p[T]){if(_!==1||T!==1)do if(_--,T--,0>T||h[_]!==p[T]){var R=`
`+h[_].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=_&&0<=T);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?b(t):""}function Ee(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=ve(t.type,!1),t;case 11:return t=ve(t.type.render,!1),t;case 1:return t=ve(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ve:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case x:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ct:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function xe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ze(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pt(t){var r=ze(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Wn(t){t._valueTracker||(t._valueTracker=pt(t))}function Oi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=ze(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xr(t,r){var o=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Mi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Le(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Qs(t,r){r=r.checked,r!=null&&_e(t,"checked",r,!1)}function Ws(t,r){Qs(t,r);var o=Le(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Fi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Fi(t,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ha(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Fi(t,r,o){(r!=="number"||mr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function Kn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Le(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Gs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ui(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Le(o)}}function zi(t,r){var o=Le(r.value),u=Le(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ks(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?at(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yn,Ys=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Yn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zr=["Webkit","ms","Moz","O"];Object.keys(Jr).forEach(function(t){Zr.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Jr[r]=Jr[t]})});function Xs(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Jr.hasOwnProperty(t)&&Jr[t]?(""+r).trim():r+"px"}function Js(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Xs(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Zs=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(t,r){if(r){if(Zs[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function to(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=null;function Bi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,rn=null,Nn=null;function bi(t){if(t=Ro(t)){if(typeof ji!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ja(r),ji(t.stateNode,t.type,r))}}function xn(t){rn?Nn?Nn.push(t):Nn=[t]:rn=t}function no(){if(rn){var t=rn,r=Nn;if(Nn=rn=null,bi(t),r)for(t=0;t<r.length;t++)bi(r[t])}}function ti(t,r){return t(r)}function ro(){}var Xn=!1;function io(t,r,o){if(Xn)return t(r,o);Xn=!0;try{return ti(t,r,o)}finally{Xn=!1,(rn!==null||Nn!==null)&&(ro(),no())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=ja(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var $i=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){$i=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{$i=!1}function ni(t,r,o,u,h,p,_,T,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(H){this.onError(H)}}var ri=!1,qi=null,gn=!1,so=null,fu={onError:function(t){ri=!0,qi=t}};function Hi(t,r,o,u,h,p,_,T,R){ri=!1,qi=null,ni.apply(fu,arguments)}function fa(t,r,o,u,h,p,_,T,R){if(Hi.apply(this,arguments),ri){if(ri){var U=qi;ri=!1,qi=null}else throw Error(n(198));gn||(gn=!0,so=U)}}function yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ii(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _n(t){if(yn(t)!==t)throw Error(n(188))}function da(t){var r=t.alternate;if(!r){if(r=yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return _n(h),t;if(p===u)return _n(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,T=h.child;T;){if(T===o){_=!0,o=h,u=p;break}if(T===u){_=!0,u=h,o=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===o){_=!0,o=p,u=h;break}if(T===u){_=!0,u=p,o=h;break}T=T.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function oo(t){return t=da(t),t!==null?Qi(t):null}function Qi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Qi(t);if(r!==null)return r;t=t.sibling}return null}var Wi=e.unstable_scheduleCallback,ao=e.unstable_cancelCallback,pa=e.unstable_shouldYield,du=e.unstable_requestPaint,Be=e.unstable_now,ma=e.unstable_getCurrentPriorityLevel,si=e.unstable_ImmediatePriority,yr=e.unstable_UserBlockingPriority,sn=e.unstable_NormalPriority,lo=e.unstable_LowPriority,ga=e.unstable_IdlePriority,oi=null,Kt=null;function ya(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(oi,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:va,uo=Math.log,_a=Math.LN2;function va(t){return t>>>=0,t===0?32:31-(uo(t)/_a|0)|0}var Gi=64,Ki=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ai(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var T=_&~h;T!==0?u=_r(T):(p&=_,p!==0&&(u=_r(p)))}else _=o&~h,_!==0?u=_r(_):p!==0&&(u=_r(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Mt(r),h=1<<o,u|=t[o],r&=~h;return u}function pu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Mt(p),T=1<<_,R=h[_];R===-1?(!(T&o)||T&u)&&(h[_]=pu(T,r)):R<=r&&(t.expiredLanes|=T),p&=~T}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function li(){var t=Gi;return Gi<<=1,!(Gi&4194240)&&(Gi=64),t}function vr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Er(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Mt(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Mt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function wr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Mt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Se=0;function Tr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ea,Yi,wa,Ta,Ia,co=!1,Ln=[],Et=null,vn=null,En=null,Ir=new Map,on=new Map,On=[],mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sa(t,r){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Ir.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":on.delete(r.pointerId)}}function Bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Ro(r),r!==null&&Yi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function gu(t,r,o,u,h){switch(r){case"focusin":return Et=Bt(Et,t,r,o,u,h),!0;case"dragenter":return vn=Bt(vn,t,r,o,u,h),!0;case"mouseover":return En=Bt(En,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,Bt(Ir.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,on.set(p,Bt(on.get(p)||null,t,r,o,u,h)),!0}return!1}function Aa(t){var r=di(t.target);if(r!==null){var o=yn(r);if(o!==null){if(r=o.tag,r===13){if(r=ii(o),r!==null){t.blockedOn=r,Ia(t.priority,function(){wa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Xi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ei=u,o.target.dispatchEvent(u),ei=null}else return r=Ro(o),r!==null&&Yi(r),t.blockedOn=o,!1;r.shift()}return!0}function ui(t,r,o){Zn(t)&&o.delete(r)}function Ra(){co=!1,Et!==null&&Zn(Et)&&(Et=null),vn!==null&&Zn(vn)&&(vn=null),En!==null&&Zn(En)&&(En=null),Ir.forEach(ui),on.forEach(ui)}function wn(t,r){t.blockedOn===r&&(t.blockedOn=null,co||(co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ra)))}function Tn(t){function r(h){return wn(h,t)}if(0<Ln.length){wn(Ln[0],t);for(var o=1;o<Ln.length;o++){var u=Ln[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Et!==null&&wn(Et,t),vn!==null&&wn(vn,t),En!==null&&wn(En,t),Ir.forEach(r),on.forEach(r),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)Aa(o),o.blockedOn===null&&On.shift()}var er=Ie.ReactCurrentBatchConfig,Sr=!0;function Qe(t,r,o,u){var h=Se,p=er.transition;er.transition=null;try{Se=1,ho(t,r,o,u)}finally{Se=h,er.transition=p}}function yu(t,r,o,u){var h=Se,p=er.transition;er.transition=null;try{Se=4,ho(t,r,o,u)}finally{Se=h,er.transition=p}}function ho(t,r,o,u){if(Sr){var h=Xi(t,r,o,u);if(h===null)Pu(t,r,u,ci,o),Sa(t,u);else if(gu(h,t,r,o,u))u.stopPropagation();else if(Sa(t,u),r&4&&-1<mu.indexOf(t)){for(;h!==null;){var p=Ro(h);if(p!==null&&Ea(p),p=Xi(t,r,o,u),p===null&&Pu(t,r,u,ci,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Pu(t,r,u,null,o)}}var ci=null;function Xi(t,r,o,u){if(ci=null,t=Bi(u),t=di(t),t!==null)if(r=yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ii(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ci=t,null}function fo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ma()){case si:return 1;case yr:return 4;case sn:case lo:return 16;case ga:return 536870912;default:return 16}default:return 16}}var Xt=null,Ji=null,jt=null;function po(){if(jt)return jt;var t,r=Ji,o=r.length,u,h="value"in Xt?Xt.value:Xt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return jt=h.slice(t,1<u?1-u:void 0)}function Zi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Mn(){return!0}function mo(){return!1}function wt(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Mn:mo,this.isPropagationStopped=mo,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),r}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=wt(In),Fn=ee({},In,{view:0,detail:0}),_u=wt(Fn),ts,tr,Ar,hi=ee({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(ts=t.screenX-Ar.screenX,tr=t.screenY-Ar.screenY):tr=ts=0,Ar=t),ts)},movementY:function(t){return"movementY"in t?t.movementY:tr}}),ns=wt(hi),go=ee({},hi,{dataTransfer:0}),Ca=wt(go),rs=ee({},Fn,{relatedTarget:0}),is=wt(rs),Pa=ee({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),nr=wt(Pa),ka=ee({},In,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Va=wt(ka),Da=ee({},In,{data:0}),yo=wt(Da),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Na[t])?!!r[t]:!1}function Un(){return xa}var l=ee({},Fn,{key:function(t){if(t.key){var r=ss[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Zi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(t){return t.type==="keypress"?Zi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=wt(l),g=ee({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=wt(g),L=ee({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),z=wt(L),K=ee({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=wt(K),ut=ee({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=wt(ut),mt=[9,13,27,32],rt=m&&"CompositionEvent"in window,an=null;m&&"documentMode"in document&&(an=document.documentMode);var Jt=m&&"TextEvent"in window&&!an,fi=m&&(!rt||an&&8<an&&11>=an),os=" ",tf=!1;function nf(t,r){switch(t){case"keyup":return mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function ny(t,r){switch(t){case"compositionend":return rf(r);case"keypress":return r.which!==32?null:(tf=!0,os);case"textInput":return t=r.data,t===os&&tf?null:t;default:return null}}function ry(t,r){if(as)return t==="compositionend"||!rt&&nf(t,r)?(t=po(),jt=Ji=Xt=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return fi&&r.locale!=="ko"?null:r.data;default:return null}}var iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!iy[t.type]:r==="textarea"}function of(t,r,o,u){xn(u),r=Ua(r,"onChange"),0<r.length&&(o=new es("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var _o=null,vo=null;function sy(t){Sf(t,0)}function La(t){var r=fs(t);if(Oi(r))return t}function oy(t,r){if(t==="change")return r}var af=!1;if(m){var vu;if(m){var Eu="oninput"in document;if(!Eu){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),Eu=typeof lf.oninput=="function"}vu=Eu}else vu=!1;af=vu&&(!document.documentMode||9<document.documentMode)}function uf(){_o&&(_o.detachEvent("onpropertychange",cf),vo=_o=null)}function cf(t){if(t.propertyName==="value"&&La(vo)){var r=[];of(r,vo,t,Bi(t)),io(sy,r)}}function ay(t,r,o){t==="focusin"?(uf(),_o=r,vo=o,_o.attachEvent("onpropertychange",cf)):t==="focusout"&&uf()}function ly(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return La(vo)}function uy(t,r){if(t==="click")return La(r)}function cy(t,r){if(t==="input"||t==="change")return La(r)}function hy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Sn=typeof Object.is=="function"?Object.is:hy;function Eo(t,r){if(Sn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Sn(t[h],r[h]))return!1}return!0}function hf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ff(t,r){var o=hf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=hf(o)}}function df(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?df(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function pf(){for(var t=window,r=mr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=mr(t.document)}return r}function wu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function fy(t){var r=pf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&df(o.ownerDocument.documentElement,o)){if(u!==null&&wu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=ff(o,p);var _=ff(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dy=m&&"documentMode"in document&&11>=document.documentMode,ls=null,Tu=null,wo=null,Iu=!1;function mf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Iu||ls==null||ls!==mr(u)||(u=ls,"selectionStart"in u&&wu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wo&&Eo(wo,u)||(wo=u,u=Ua(Tu,"onSelect"),0<u.length&&(r=new es("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ls)))}function Oa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var us={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},Su={},gf={};m&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Ma(t){if(Su[t])return Su[t];if(!us[t])return t;var r=us[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in gf)return Su[t]=r[o];return t}var yf=Ma("animationend"),_f=Ma("animationiteration"),vf=Ma("animationstart"),Ef=Ma("transitionend"),wf=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,r){wf.set(t,r),c(r,[t])}for(var Au=0;Au<Tf.length;Au++){var Ru=Tf[Au],py=Ru.toLowerCase(),my=Ru[0].toUpperCase()+Ru.slice(1);Rr(py,"on"+my)}Rr(yf,"onAnimationEnd"),Rr(_f,"onAnimationIteration"),Rr(vf,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ef,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gy=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function If(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,fa(u,r,void 0,t),t.currentTarget=null}function Sf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var T=u[_],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==p&&h.isPropagationStopped())break e;If(h,T,U),p=R}else for(_=0;_<u.length;_++){if(T=u[_],R=T.instance,U=T.currentTarget,T=T.listener,R!==p&&h.isPropagationStopped())break e;If(h,T,U),p=R}}}if(gn)throw t=so,gn=!1,so=null,t}function $e(t,r){var o=r[Lu];o===void 0&&(o=r[Lu]=new Set);var u=t+"__bubble";o.has(u)||(Af(r,t,2,!1),o.add(u))}function Cu(t,r,o){var u=0;r&&(u|=4),Af(o,t,u,r)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function Io(t){if(!t[Fa]){t[Fa]=!0,s.forEach(function(o){o!=="selectionchange"&&(gy.has(o)||Cu(o,!1,t),Cu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Fa]||(r[Fa]=!0,Cu("selectionchange",!1,r))}}function Af(t,r,o,u){switch(fo(r)){case 1:var h=Qe;break;case 4:h=yu;break;default:h=ho}o=h.bind(null,r,o,t),h=void 0,!$i||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Pu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;_=_.return}for(;T!==null;){if(_=di(T),_===null)return;if(R=_.tag,R===5||R===6){u=p=_;continue e}T=T.parentNode}}u=u.return}io(function(){var U=p,H=Bi(o),W=[];e:{var q=wf.get(t);if(q!==void 0){var Z=es,ie=t;switch(t){case"keypress":if(Zi(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":ie="focus",Z=is;break;case"focusout":ie="blur",Z=is;break;case"beforeblur":case"afterblur":Z=is;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ca;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=z;break;case yf:case _f:case vf:Z=nr;break;case Ef:Z=Me;break;case"scroll":Z=_u;break;case"wheel":Z=Ce;break;case"copy":case"cut":case"paste":Z=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=v}var se=(r&4)!==0,tt=!se&&t==="scroll",O=se?q!==null?q+"Capture":null:q;se=[];for(var P=U,M;P!==null;){M=P;var G=M.stateNode;if(M.tag===5&&G!==null&&(M=G,O!==null&&(G=et(P,O),G!=null&&se.push(So(P,G,M)))),tt)break;P=P.return}0<se.length&&(q=new Z(q,ie,null,o,H),W.push({event:q,listeners:se}))}}if(!(r&7)){e:{if(q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",q&&o!==ei&&(ie=o.relatedTarget||o.fromElement)&&(di(ie)||ie[rr]))break e;if((Z||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,Z?(ie=o.relatedTarget||o.toElement,Z=U,ie=ie?di(ie):null,ie!==null&&(tt=yn(ie),ie!==tt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(Z=null,ie=U),Z!==ie)){if(se=ns,G="onMouseLeave",O="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(se=v,G="onPointerLeave",O="onPointerEnter",P="pointer"),tt=Z==null?q:fs(Z),M=ie==null?q:fs(ie),q=new se(G,P+"leave",Z,o,H),q.target=tt,q.relatedTarget=M,G=null,di(H)===U&&(se=new se(O,P+"enter",ie,o,H),se.target=M,se.relatedTarget=tt,G=se),tt=G,Z&&ie)t:{for(se=Z,O=ie,P=0,M=se;M;M=cs(M))P++;for(M=0,G=O;G;G=cs(G))M++;for(;0<P-M;)se=cs(se),P--;for(;0<M-P;)O=cs(O),M--;for(;P--;){if(se===O||O!==null&&se===O.alternate)break t;se=cs(se),O=cs(O)}se=null}else se=null;Z!==null&&Rf(W,q,Z,se,!1),ie!==null&&tt!==null&&Rf(W,tt,ie,se,!0)}}e:{if(q=U?fs(U):window,Z=q.nodeName&&q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&q.type==="file")var oe=oy;else if(sf(q))if(af)oe=cy;else{oe=ly;var ce=ay}else(Z=q.nodeName)&&Z.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(oe=uy);if(oe&&(oe=oe(t,U))){of(W,oe,o,H);break e}ce&&ce(t,q,U),t==="focusout"&&(ce=q._wrapperState)&&ce.controlled&&q.type==="number"&&Fi(q,"number",q.value)}switch(ce=U?fs(U):window,t){case"focusin":(sf(ce)||ce.contentEditable==="true")&&(ls=ce,Tu=U,wo=null);break;case"focusout":wo=Tu=ls=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,mf(W,o,H);break;case"selectionchange":if(dy)break;case"keydown":case"keyup":mf(W,o,H)}var he;if(rt)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else as?nf(t,o)&&(fe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(fi&&o.locale!=="ko"&&(as||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&as&&(he=po()):(Xt=H,Ji="value"in Xt?Xt.value:Xt.textContent,as=!0)),ce=Ua(U,fe),0<ce.length&&(fe=new yo(fe,t,null,o,H),W.push({event:fe,listeners:ce}),he?fe.data=he:(he=rf(o),he!==null&&(fe.data=he)))),(he=Jt?ny(t,o):ry(t,o))&&(U=Ua(U,"onBeforeInput"),0<U.length&&(H=new yo("onBeforeInput","beforeinput",null,o,H),W.push({event:H,listeners:U}),H.data=he))}Sf(W,r)})}function So(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ua(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(So(t,p,h)),p=et(t,r),p!=null&&u.push(So(t,p,h))),t=t.return}return u}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rf(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var T=o,R=T.alternate,U=T.stateNode;if(R!==null&&R===u)break;T.tag===5&&U!==null&&(T=U,h?(R=et(o,p),R!=null&&_.unshift(So(o,R,T))):h||(R=et(o,p),R!=null&&_.push(So(o,R,T)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var yy=/\r\n?/g,_y=/\u0000|\uFFFD/g;function Cf(t){return(typeof t=="string"?t:""+t).replace(yy,`
`).replace(_y,"")}function za(t,r,o){if(r=Cf(r),Cf(t)!==r&&o)throw Error(n(425))}function Ba(){}var ku=null,Vu=null;function Du(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,vy=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,Ey=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(t){return Pf.resolve(null).then(t).catch(wy)}:Nu;function wy(t){setTimeout(function(){throw t})}function xu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Tn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Tn(r)}function Cr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function kf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var hs=Math.random().toString(36).slice(2),zn="__reactFiber$"+hs,Ao="__reactProps$"+hs,rr="__reactContainer$"+hs,Lu="__reactEvents$"+hs,Ty="__reactListeners$"+hs,Iy="__reactHandles$"+hs;function di(t){var r=t[zn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[rr]||o[zn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=kf(t);t!==null;){if(o=t[zn])return o;t=kf(t)}return r}t=o,o=t.parentNode}return null}function Ro(t){return t=t[zn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ja(t){return t[Ao]||null}var Ou=[],ds=-1;function Pr(t){return{current:t}}function qe(t){0>ds||(t.current=Ou[ds],Ou[ds]=null,ds--)}function je(t,r){ds++,Ou[ds]=t.current,t.current=r}var kr={},kt=Pr(kr),bt=Pr(!1),pi=kr;function ps(t,r){var o=t.type.contextTypes;if(!o)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function $t(t){return t=t.childContextTypes,t!=null}function ba(){qe(bt),qe(kt)}function Vf(t,r,o){if(kt.current!==kr)throw Error(n(168));je(kt,r),je(bt,o)}function Df(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,xe(t)||"Unknown",h));return ee({},o,u)}function $a(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,pi=kt.current,je(kt,t),je(bt,bt.current),!0}function Nf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Df(t,r,pi),u.__reactInternalMemoizedMergedChildContext=t,qe(bt),qe(kt),je(kt,t)):qe(bt),je(bt,o)}var ir=null,qa=!1,Mu=!1;function xf(t){ir===null?ir=[t]:ir.push(t)}function Sy(t){qa=!0,xf(t)}function Vr(){if(!Mu&&ir!==null){Mu=!0;var t=0,r=Se;try{var o=ir;for(Se=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ir=null,qa=!1}catch(h){throw ir!==null&&(ir=ir.slice(t+1)),Wi(si,Vr),h}finally{Se=r,Mu=!1}}return null}var ms=[],gs=0,Ha=null,Qa=0,ln=[],un=0,mi=null,sr=1,or="";function gi(t,r){ms[gs++]=Qa,ms[gs++]=Ha,Ha=t,Qa=r}function Lf(t,r,o){ln[un++]=sr,ln[un++]=or,ln[un++]=mi,mi=t;var u=sr;t=or;var h=32-Mt(u)-1;u&=~(1<<h),o+=1;var p=32-Mt(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,sr=1<<32-Mt(r)+h|o<<h|u,or=p+t}else sr=1<<p|o<<h|u,or=t}function Fu(t){t.return!==null&&(gi(t,1),Lf(t,1,0))}function Uu(t){for(;t===Ha;)Ha=ms[--gs],ms[gs]=null,Qa=ms[--gs],ms[gs]=null;for(;t===mi;)mi=ln[--un],ln[un]=null,or=ln[--un],ln[un]=null,sr=ln[--un],ln[un]=null}var Zt=null,en=null,We=!1,An=null;function Of(t,r){var o=dn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Mf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Zt=t,en=Cr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Zt=t,en=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=mi!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=dn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Zt=t,en=null,!0):!1;default:return!1}}function zu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bu(t){if(We){var r=en;if(r){var o=r;if(!Mf(t,r)){if(zu(t))throw Error(n(418));r=Cr(o.nextSibling);var u=Zt;r&&Mf(t,r)?Of(u,o):(t.flags=t.flags&-4097|2,We=!1,Zt=t)}}else{if(zu(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,Zt=t}}}function Ff(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Wa(t){if(t!==Zt)return!1;if(!We)return Ff(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Du(t.type,t.memoizedProps)),r&&(r=en)){if(zu(t))throw Uf(),Error(n(418));for(;r;)Of(t,r),r=Cr(r.nextSibling)}if(Ff(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){en=Cr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}en=null}}else en=Zt?Cr(t.stateNode.nextSibling):null;return!0}function Uf(){for(var t=en;t;)t=Cr(t.nextSibling)}function ys(){en=Zt=null,We=!1}function ju(t){An===null?An=[t]:An.push(t)}var Ay=Ie.ReactCurrentBatchConfig;function Co(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var T=h.refs;_===null?delete T[p]:T[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ga(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function zf(t){var r=t._init;return r(t._payload)}function Bf(t){function r(O,P){if(t){var M=O.deletions;M===null?(O.deletions=[P],O.flags|=16):M.push(P)}}function o(O,P){if(!t)return null;for(;P!==null;)r(O,P),P=P.sibling;return null}function u(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(O,P){return O=Ur(O,P),O.index=0,O.sibling=null,O}function p(O,P,M){return O.index=M,t?(M=O.alternate,M!==null?(M=M.index,M<P?(O.flags|=2,P):M):(O.flags|=2,P)):(O.flags|=1048576,P)}function _(O){return t&&O.alternate===null&&(O.flags|=2),O}function T(O,P,M,G){return P===null||P.tag!==6?(P=Nc(M,O.mode,G),P.return=O,P):(P=h(P,M),P.return=O,P)}function R(O,P,M,G){var oe=M.type;return oe===V?H(O,P,M.props.children,G,M.key):P!==null&&(P.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&zf(oe)===P.type)?(G=h(P,M.props),G.ref=Co(O,P,M),G.return=O,G):(G=_l(M.type,M.key,M.props,null,O.mode,G),G.ref=Co(O,P,M),G.return=O,G)}function U(O,P,M,G){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=xc(M,O.mode,G),P.return=O,P):(P=h(P,M.children||[]),P.return=O,P)}function H(O,P,M,G,oe){return P===null||P.tag!==7?(P=Si(M,O.mode,G,oe),P.return=O,P):(P=h(P,M),P.return=O,P)}function W(O,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Nc(""+P,O.mode,M),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Je:return M=_l(P.type,P.key,P.props,null,O.mode,M),M.ref=Co(O,null,P),M.return=O,M;case Ve:return P=xc(P,O.mode,M),P.return=O,P;case Pt:var G=P._init;return W(O,G(P._payload),M)}if(Gn(P)||ue(P))return P=Si(P,O.mode,M,null),P.return=O,P;Ga(O,P)}return null}function q(O,P,M,G){var oe=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return oe!==null?null:T(O,P,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Je:return M.key===oe?R(O,P,M,G):null;case Ve:return M.key===oe?U(O,P,M,G):null;case Pt:return oe=M._init,q(O,P,oe(M._payload),G)}if(Gn(M)||ue(M))return oe!==null?null:H(O,P,M,G,null);Ga(O,M)}return null}function Z(O,P,M,G,oe){if(typeof G=="string"&&G!==""||typeof G=="number")return O=O.get(M)||null,T(P,O,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Je:return O=O.get(G.key===null?M:G.key)||null,R(P,O,G,oe);case Ve:return O=O.get(G.key===null?M:G.key)||null,U(P,O,G,oe);case Pt:var ce=G._init;return Z(O,P,M,ce(G._payload),oe)}if(Gn(G)||ue(G))return O=O.get(M)||null,H(P,O,G,oe,null);Ga(P,G)}return null}function ie(O,P,M,G){for(var oe=null,ce=null,he=P,fe=P=0,_t=null;he!==null&&fe<M.length;fe++){he.index>fe?(_t=he,he=null):_t=he.sibling;var Ne=q(O,he,M[fe],G);if(Ne===null){he===null&&(he=_t);break}t&&he&&Ne.alternate===null&&r(O,he),P=p(Ne,P,fe),ce===null?oe=Ne:ce.sibling=Ne,ce=Ne,he=_t}if(fe===M.length)return o(O,he),We&&gi(O,fe),oe;if(he===null){for(;fe<M.length;fe++)he=W(O,M[fe],G),he!==null&&(P=p(he,P,fe),ce===null?oe=he:ce.sibling=he,ce=he);return We&&gi(O,fe),oe}for(he=u(O,he);fe<M.length;fe++)_t=Z(he,O,fe,M[fe],G),_t!==null&&(t&&_t.alternate!==null&&he.delete(_t.key===null?fe:_t.key),P=p(_t,P,fe),ce===null?oe=_t:ce.sibling=_t,ce=_t);return t&&he.forEach(function(zr){return r(O,zr)}),We&&gi(O,fe),oe}function se(O,P,M,G){var oe=ue(M);if(typeof oe!="function")throw Error(n(150));if(M=oe.call(M),M==null)throw Error(n(151));for(var ce=oe=null,he=P,fe=P=0,_t=null,Ne=M.next();he!==null&&!Ne.done;fe++,Ne=M.next()){he.index>fe?(_t=he,he=null):_t=he.sibling;var zr=q(O,he,Ne.value,G);if(zr===null){he===null&&(he=_t);break}t&&he&&zr.alternate===null&&r(O,he),P=p(zr,P,fe),ce===null?oe=zr:ce.sibling=zr,ce=zr,he=_t}if(Ne.done)return o(O,he),We&&gi(O,fe),oe;if(he===null){for(;!Ne.done;fe++,Ne=M.next())Ne=W(O,Ne.value,G),Ne!==null&&(P=p(Ne,P,fe),ce===null?oe=Ne:ce.sibling=Ne,ce=Ne);return We&&gi(O,fe),oe}for(he=u(O,he);!Ne.done;fe++,Ne=M.next())Ne=Z(he,O,fe,Ne.value,G),Ne!==null&&(t&&Ne.alternate!==null&&he.delete(Ne.key===null?fe:Ne.key),P=p(Ne,P,fe),ce===null?oe=Ne:ce.sibling=Ne,ce=Ne);return t&&he.forEach(function(r_){return r(O,r_)}),We&&gi(O,fe),oe}function tt(O,P,M,G){if(typeof M=="object"&&M!==null&&M.type===V&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Je:e:{for(var oe=M.key,ce=P;ce!==null;){if(ce.key===oe){if(oe=M.type,oe===V){if(ce.tag===7){o(O,ce.sibling),P=h(ce,M.props.children),P.return=O,O=P;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&zf(oe)===ce.type){o(O,ce.sibling),P=h(ce,M.props),P.ref=Co(O,ce,M),P.return=O,O=P;break e}o(O,ce);break}else r(O,ce);ce=ce.sibling}M.type===V?(P=Si(M.props.children,O.mode,G,M.key),P.return=O,O=P):(G=_l(M.type,M.key,M.props,null,O.mode,G),G.ref=Co(O,P,M),G.return=O,O=G)}return _(O);case Ve:e:{for(ce=M.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){o(O,P.sibling),P=h(P,M.children||[]),P.return=O,O=P;break e}else{o(O,P);break}else r(O,P);P=P.sibling}P=xc(M,O.mode,G),P.return=O,O=P}return _(O);case Pt:return ce=M._init,tt(O,P,ce(M._payload),G)}if(Gn(M))return ie(O,P,M,G);if(ue(M))return se(O,P,M,G);Ga(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(o(O,P.sibling),P=h(P,M),P.return=O,O=P):(o(O,P),P=Nc(M,O.mode,G),P.return=O,O=P),_(O)):o(O,P)}return tt}var _s=Bf(!0),jf=Bf(!1),Ka=Pr(null),Ya=null,vs=null,bu=null;function $u(){bu=vs=Ya=null}function qu(t){var r=Ka.current;qe(Ka),t._currentValue=r}function Hu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Es(t,r){Ya=t,bu=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qt=!0),t.firstContext=null)}function cn(t){var r=t._currentValue;if(bu!==t)if(t={context:t,memoizedValue:r,next:null},vs===null){if(Ya===null)throw Error(n(308));vs=t,Ya.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return r}var yi=null;function Qu(t){yi===null?yi=[t]:yi.push(t)}function bf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Qu(r)):(o.next=h.next,h.next=o),r.interleaved=o,ar(t,u)}function ar(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Dr=!1;function Wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Nr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,De&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,ar(t,o)}return h=u.interleaved,h===null?(r.next=r,Qu(u)):(r.next=h.next,h.next=r),u.interleaved=r,ar(t,o)}function Xa(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}function qf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ja(t,r,o,u){var h=t.updateQueue;Dr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,U=R.next;R.next=null,_===null?p=U:_.next=U,_=R;var H=t.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==_&&(T===null?H.firstBaseUpdate=U:T.next=U,H.lastBaseUpdate=R))}if(p!==null){var W=h.baseState;_=0,H=U=R=null,T=p;do{var q=T.lane,Z=T.eventTime;if((u&q)===q){H!==null&&(H=H.next={eventTime:Z,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ie=t,se=T;switch(q=r,Z=o,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){W=ie.call(Z,W,q);break e}W=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,q=typeof ie=="function"?ie.call(Z,W,q):ie,q==null)break e;W=ee({},W,q);break e;case 2:Dr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[T]:q.push(T))}else Z={eventTime:Z,lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(U=H=Z,R=W):H=H.next=Z,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(H===null&&(R=W),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ei|=_,t.lanes=_,t.memoizedState=W}}function Hf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Po={},Bn=Pr(Po),ko=Pr(Po),Vo=Pr(Po);function _i(t){if(t===Po)throw Error(n(174));return t}function Gu(t,r){switch(je(Vo,r),je(ko,t),je(Bn,Po),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:lt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=lt(r,t)}qe(Bn),je(Bn,r)}function ws(){qe(Bn),qe(ko),qe(Vo)}function Qf(t){_i(Vo.current);var r=_i(Bn.current),o=lt(r,t.type);r!==o&&(je(ko,t),je(Bn,o))}function Ku(t){ko.current===t&&(qe(Bn),qe(ko))}var Ge=Pr(0);function Za(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Yu=[];function Xu(){for(var t=0;t<Yu.length;t++)Yu[t]._workInProgressVersionPrimary=null;Yu.length=0}var el=Ie.ReactCurrentDispatcher,Ju=Ie.ReactCurrentBatchConfig,vi=0,Ke=null,ct=null,gt=null,tl=!1,Do=!1,No=0,Ry=0;function Vt(){throw Error(n(321))}function Zu(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Sn(t[o],r[o]))return!1;return!0}function ec(t,r,o,u,h,p){if(vi=p,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,el.current=t===null||t.memoizedState===null?Vy:Dy,t=o(u,h),Do){p=0;do{if(Do=!1,No=0,25<=p)throw Error(n(301));p+=1,gt=ct=null,r.updateQueue=null,el.current=Ny,t=o(u,h)}while(Do)}if(el.current=il,r=ct!==null&&ct.next!==null,vi=0,gt=ct=Ke=null,tl=!1,r)throw Error(n(300));return t}function tc(){var t=No!==0;return No=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ke.memoizedState=gt=t:gt=gt.next=t,gt}function hn(){if(ct===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=gt===null?Ke.memoizedState:gt.next;if(r!==null)gt=r,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},gt===null?Ke.memoizedState=gt=t:gt=gt.next=t}return gt}function xo(t,r){return typeof r=="function"?r(t):r}function nc(t){var r=hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ct,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=_=null,R=null,U=p;do{var H=U.lane;if((vi&H)===H)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var W={lane:H,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(T=R=W,_=u):R=R.next=W,Ke.lanes|=H,Ei|=H}U=U.next}while(U!==null&&U!==p);R===null?_=u:R.next=T,Sn(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ke.lanes|=p,Ei|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function rc(t){var r=hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Sn(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Wf(){}function Gf(t,r){var o=Ke,u=hn(),h=r(),p=!Sn(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,ic(Xf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,Lo(9,Yf.bind(null,o,u,h,r),void 0,null),yt===null)throw Error(n(349));vi&30||Kf(o,r,h)}return h}function Kf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Yf(t,r,o,u){r.value=o,r.getSnapshot=u,Jf(r)&&Zf(t)}function Xf(t,r,o){return o(function(){Jf(r)&&Zf(t)})}function Jf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Sn(t,o)}catch{return!0}}function Zf(t){var r=ar(t,1);r!==null&&kn(r,t,1,-1)}function ed(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:t},r.queue=t,t=t.dispatch=ky.bind(null,Ke,t),[r.memoizedState,t]}function Lo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function td(){return hn().memoizedState}function nl(t,r,o,u){var h=jn();Ke.flags|=t,h.memoizedState=Lo(1|r,o,void 0,u===void 0?null:u)}function rl(t,r,o,u){var h=hn();u=u===void 0?null:u;var p=void 0;if(ct!==null){var _=ct.memoizedState;if(p=_.destroy,u!==null&&Zu(u,_.deps)){h.memoizedState=Lo(r,o,p,u);return}}Ke.flags|=t,h.memoizedState=Lo(1|r,o,p,u)}function nd(t,r){return nl(8390656,8,t,r)}function ic(t,r){return rl(2048,8,t,r)}function rd(t,r){return rl(4,2,t,r)}function id(t,r){return rl(4,4,t,r)}function sd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function od(t,r,o){return o=o!=null?o.concat([t]):null,rl(4,4,sd.bind(null,r,t),o)}function sc(){}function ad(t,r){var o=hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Zu(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function ld(t,r){var o=hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Zu(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function ud(t,r,o){return vi&21?(Sn(o,r)||(o=li(),Ke.lanes|=o,Ei|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o)}function Cy(t,r){var o=Se;Se=o!==0&&4>o?o:4,t(!0);var u=Ju.transition;Ju.transition={};try{t(!1),r()}finally{Se=o,Ju.transition=u}}function cd(){return hn().memoizedState}function Py(t,r,o){var u=Mr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},hd(t))fd(r,o);else if(o=bf(t,r,o,u),o!==null){var h=zt();kn(o,t,u,h),dd(o,r,u)}}function ky(t,r,o){var u=Mr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(hd(t))fd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,T=p(_,o);if(h.hasEagerState=!0,h.eagerState=T,Sn(T,_)){var R=r.interleaved;R===null?(h.next=h,Qu(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=bf(t,r,h,u),o!==null&&(h=zt(),kn(o,t,u,h),dd(o,r,u))}}function hd(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function fd(t,r){Do=tl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function dd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}var il={readContext:cn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Vy={readContext:cn,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:nd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,nl(4194308,4,sd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return nl(4194308,4,t,r)},useInsertionEffect:function(t,r){return nl(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Py.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:ed,useDebugValue:sc,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=ed(!1),r=t[0];return t=Cy.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ke,h=jn();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),yt===null)throw Error(n(349));vi&30||Kf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,nd(Xf.bind(null,u,p,t),[t]),u.flags|=2048,Lo(9,Yf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=jn(),r=yt.identifierPrefix;if(We){var o=or,u=sr;o=(u&~(1<<32-Mt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=No++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Ry++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Dy={readContext:cn,useCallback:ad,useContext:cn,useEffect:ic,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:id,useMemo:ld,useReducer:nc,useRef:td,useState:function(){return nc(xo)},useDebugValue:sc,useDeferredValue:function(t){var r=hn();return ud(r,ct.memoizedState,t)},useTransition:function(){var t=nc(xo)[0],r=hn().memoizedState;return[t,r]},useMutableSource:Wf,useSyncExternalStore:Gf,useId:cd,unstable_isNewReconciler:!1},Ny={readContext:cn,useCallback:ad,useContext:cn,useEffect:ic,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:id,useMemo:ld,useReducer:rc,useRef:td,useState:function(){return rc(xo)},useDebugValue:sc,useDeferredValue:function(t){var r=hn();return ct===null?r.memoizedState=t:ud(r,ct.memoizedState,t)},useTransition:function(){var t=rc(xo)[0],r=hn().memoizedState;return[t,r]},useMutableSource:Wf,useSyncExternalStore:Gf,useId:cd,unstable_isNewReconciler:!1};function Rn(t,r){if(t&&t.defaultProps){r=ee({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function oc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ee({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var sl={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Mr(t),p=lr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(kn(r,t,h,u),Xa(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Mr(t),p=lr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(kn(r,t,h,u),Xa(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=Mr(t),h=lr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Nr(t,h,u),r!==null&&(kn(r,t,u,o),Xa(r,t,u))}};function pd(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Eo(o,u)||!Eo(h,p):!0}function md(t,r,o){var u=!1,h=kr,p=r.contextType;return typeof p=="object"&&p!==null?p=cn(p):(h=$t(r)?pi:kt.current,u=r.contextTypes,p=(u=u!=null)?ps(t,h):kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=sl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function gd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&sl.enqueueReplaceState(r,r.state,null)}function ac(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Wu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=cn(p):(p=$t(r)?pi:kt.current,h.context=ps(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(oc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&sl.enqueueReplaceState(h,h.state,null),Ja(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,r){try{var o="",u=r;do o+=Ee(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function lc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function uc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var xy=typeof WeakMap=="function"?WeakMap:Map;function yd(t,r,o){o=lr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){fl||(fl=!0,Sc=u),uc(t,r)},o}function _d(t,r,o){o=lr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){uc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){uc(t,r),typeof u!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function vd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new xy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Wy.bind(null,t,r,o),r.then(t,t))}function Ed(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function wd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=lr(-1,1),r.tag=2,Nr(o,r,1))),o.lanes|=1),t)}var Ly=Ie.ReactCurrentOwner,qt=!1;function Ut(t,r,o,u){r.child=t===null?jf(r,null,o,u):_s(r,t.child,o,u)}function Td(t,r,o,u,h){o=o.render;var p=r.ref;return Es(r,h),u=ec(t,r,o,u,p,h),o=tc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(We&&o&&Fu(r),r.flags|=1,Ut(t,r,u,h),r.child)}function Id(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Dc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Sd(t,r,p,u,h)):(t=_l(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Eo,o(_,u)&&t.ref===r.ref)return ur(t,r,h)}return r.flags|=1,t=Ur(p,u),t.ref=r.ref,t.return=r,r.child=t}function Sd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Eo(p,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(qt=!0);else return r.lanes=t.lanes,ur(t,r,h)}return cc(t,r,o,u,h)}function Ad(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ss,tn),tn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,je(Ss,tn),tn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,je(Ss,tn),tn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,je(Ss,tn),tn|=u;return Ut(t,r,h,o),r.child}function Rd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function cc(t,r,o,u,h){var p=$t(o)?pi:kt.current;return p=ps(r,p),Es(r,h),o=ec(t,r,o,u,p,h),u=tc(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(We&&u&&Fu(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Cd(t,r,o,u,h){if($t(o)){var p=!0;$a(r)}else p=!1;if(Es(r,h),r.stateNode===null)al(t,r),md(r,o,u),ac(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,T=r.memoizedProps;_.props=T;var R=_.context,U=o.contextType;typeof U=="object"&&U!==null?U=cn(U):(U=$t(o)?pi:kt.current,U=ps(r,U));var H=o.getDerivedStateFromProps,W=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function";W||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==u||R!==U)&&gd(r,_,u,U),Dr=!1;var q=r.memoizedState;_.state=q,Ja(r,u,_,h),R=r.memoizedState,T!==u||q!==R||bt.current||Dr?(typeof H=="function"&&(oc(r,o,H,u),R=r.memoizedState),(T=Dr||pd(r,o,T,u,q,R,U))?(W||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),_.props=u,_.state=R,_.context=U,u=T):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,$f(t,r),T=r.memoizedProps,U=r.type===r.elementType?T:Rn(r.type,T),_.props=U,W=r.pendingProps,q=_.context,R=o.contextType,typeof R=="object"&&R!==null?R=cn(R):(R=$t(o)?pi:kt.current,R=ps(r,R));var Z=o.getDerivedStateFromProps;(H=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==W||q!==R)&&gd(r,_,u,R),Dr=!1,q=r.memoizedState,_.state=q,Ja(r,u,_,h);var ie=r.memoizedState;T!==W||q!==ie||bt.current||Dr?(typeof Z=="function"&&(oc(r,o,Z,u),ie=r.memoizedState),(U=Dr||pd(r,o,U,u,q,ie,R)||!1)?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ie,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ie,R)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),_.props=u,_.state=ie,_.context=R,u=U):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return hc(t,r,o,u,p,h)}function hc(t,r,o,u,h,p){Rd(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Nf(r,o,!1),ur(t,r,p);u=r.stateNode,Ly.current=r;var T=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=_s(r,t.child,null,p),r.child=_s(r,null,T,p)):Ut(t,r,T,p),r.memoizedState=u.state,h&&Nf(r,o,!0),r.child}function Pd(t){var r=t.stateNode;r.pendingContext?Vf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Vf(t,r.context,!1),Gu(t,r.containerInfo)}function kd(t,r,o,u,h){return ys(),ju(h),r.flags|=256,Ut(t,r,o,u),r.child}var fc={dehydrated:null,treeContext:null,retryLane:0};function dc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vd(t,r,o){var u=r.pendingProps,h=Ge.current,p=!1,_=(r.flags&128)!==0,T;if((T=_)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),je(Ge,h&1),t===null)return Bu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=vl(_,u,0,null),t=Si(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=dc(o),r.memoizedState=fc,t):pc(r,_));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return Oy(t,r,_,u,T,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,T=h.sibling;var R={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Ur(h,R),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=Ur(T,p):(p=Si(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?dc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=fc,u}return p=t.child,t=p.sibling,u=Ur(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function pc(t,r){return r=vl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ol(t,r,o,u){return u!==null&&ju(u),_s(r,t.child,null,o),t=pc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Oy(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=lc(Error(n(422))),ol(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=vl({mode:"visible",children:u.children},h,0,null),p=Si(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&_s(r,t.child,null,_),r.child.memoizedState=dc(_),r.memoizedState=fc,p);if(!(r.mode&1))return ol(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(n(419)),u=lc(p,u,void 0),ol(t,r,_,u)}if(T=(_&t.childLanes)!==0,qt||T){if(u=yt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ar(t,h),kn(u,t,h,-1))}return Vc(),u=lc(Error(n(421))),ol(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Gy.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,en=Cr(h.nextSibling),Zt=r,We=!0,An=null,t!==null&&(ln[un++]=sr,ln[un++]=or,ln[un++]=mi,sr=t.id,or=t.overflow,mi=r),r=pc(r,u.children),r.flags|=4096,r)}function Dd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Hu(t.return,r,o)}function mc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Nd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Ge.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dd(t,o,r);else if(t.tag===19)Dd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(je(Ge,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Za(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),mc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Za(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}mc(r,!0,o,null,p);break;case"together":mc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function al(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ur(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ei|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ur(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ur(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function My(t,r,o){switch(r.tag){case 3:Pd(r),ys();break;case 5:Qf(r);break;case 1:$t(r.type)&&$a(r);break;case 4:Gu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;je(Ka,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(je(Ge,Ge.current&1),r.flags|=128,null):o&r.child.childLanes?Vd(t,r,o):(je(Ge,Ge.current&1),t=ur(t,r,o),t!==null?t.sibling:null);je(Ge,Ge.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Nd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Ge,Ge.current),u)break;return null;case 22:case 23:return r.lanes=0,Ad(t,r,o)}return ur(t,r,o)}var xd,gc,Ld,Od;xd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},gc=function(){},Ld=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,_i(Bn.current);var p=null;switch(o){case"input":h=Xr(t,h),u=Xr(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=Gs(t,h),u=Gs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ba)}eo(o,u);var _;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var T=h[U];for(_ in T)T.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var R=u[U];if(T=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&R!==T&&(R!=null||T!=null))if(U==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in R)R.hasOwnProperty(_)&&T[_]!==R[_]&&(o||(o={}),o[_]=R[_])}else o||(p||(p=[]),p.push(U,o)),o=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&$e("scroll",t),p||T===R||(p=[])):(p=p||[]).push(U,R))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},Od=function(t,r,o,u){o!==u&&(r.flags|=4)};function Oo(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Fy(t,r,o){var u=r.pendingProps;switch(Uu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return $t(r.type)&&ba(),Dt(r),null;case 3:return u=r.stateNode,ws(),qe(bt),qe(kt),Xu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Wa(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,An!==null&&(Cc(An),An=null))),gc(t,r),Dt(r),null;case 5:Ku(r);var h=_i(Vo.current);if(o=r.type,t!==null&&r.stateNode!=null)Ld(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=_i(Bn.current),Wa(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[zn]=r,u[Ao]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<To.length;h++)$e(To[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":Mi(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":Ui(u,p),$e("invalid",u)}eo(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var T=p[_];_==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&za(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&za(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&$e("scroll",u)}switch(o){case"input":Wn(u),ha(u,p,!0);break;case"textarea":Wn(u),Ks(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ba)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=at(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[zn]=r,t[Ao]=u,xd(t,r,!1,!1),r.stateNode=t;e:{switch(_=to(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<To.length;h++)$e(To[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":Mi(t,u),h=Xr(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Ui(t,u),h=Gs(t,u),$e("invalid",t);break;default:h=u}eo(o,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var R=T[p];p==="style"?Js(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Ys(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&gr(t,R):typeof R=="number"&&gr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&$e("scroll",t):R!=null&&_e(t,p,R,_))}switch(o){case"input":Wn(t),ha(t,u,!1);break;case"textarea":Wn(t),Ks(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Kn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Kn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ba)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Od(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=_i(Vo.current),_i(Bn.current),Wa(r)){if(u=r.stateNode,o=r.memoizedProps,u[zn]=r,(p=u.nodeValue!==o)&&(t=Zt,t!==null))switch(t.tag){case 3:za(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&za(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[zn]=r,r.stateNode=u}return Dt(r),null;case 13:if(qe(Ge),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&en!==null&&r.mode&1&&!(r.flags&128))Uf(),ys(),r.flags|=98560,p=!1;else if(p=Wa(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[zn]=r}else ys(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else An!==null&&(Cc(An),An=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ge.current&1?ht===0&&(ht=3):Vc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return ws(),gc(t,r),t===null&&Io(r.stateNode.containerInfo),Dt(r),null;case 10:return qu(r.type._context),Dt(r),null;case 17:return $t(r.type)&&ba(),Dt(r),null;case 19:if(qe(Ge),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Oo(p,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=Za(t),_!==null){for(r.flags|=128,Oo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return je(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&Be()>As&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304)}else{if(!u)if(t=Za(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Oo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!We)return Dt(r),null}else 2*Be()-p.renderingStartTime>As&&o!==1073741824&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Be(),r.sibling=null,o=Ge.current,je(Ge,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return kc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?tn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Uy(t,r){switch(Uu(r),r.tag){case 1:return $t(r.type)&&ba(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ws(),qe(bt),qe(kt),Xu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Ku(r),null;case 13:if(qe(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ge),null;case 4:return ws(),null;case 10:return qu(r.type._context),null;case 22:case 23:return kc(),null;case 24:return null;default:return null}}var ll=!1,Nt=!1,zy=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Is(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Xe(t,r,u)}else o.current=null}function yc(t,r,o){try{o()}catch(u){Xe(t,r,u)}}var Md=!1;function By(t,r){if(ku=Sr,t=pf(),wu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,T=-1,R=-1,U=0,H=0,W=t,q=null;t:for(;;){for(var Z;W!==o||h!==0&&W.nodeType!==3||(T=_+h),W!==p||u!==0&&W.nodeType!==3||(R=_+u),W.nodeType===3&&(_+=W.nodeValue.length),(Z=W.firstChild)!==null;)q=W,W=Z;for(;;){if(W===t)break t;if(q===o&&++U===h&&(T=_),q===p&&++H===u&&(R=_),(Z=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Z}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vu={focusedElem:t,selectionRange:o},Sr=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var ie=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,tt=ie.memoizedState,O=r.stateNode,P=O.getSnapshotBeforeUpdate(r.elementType===r.type?se:Rn(r.type,se),tt);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(G){Xe(r,r.return,G)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return ie=Md,Md=!1,ie}function Mo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&yc(r,o,p)}h=h.next}while(h!==u)}}function ul(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function _c(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Fd(t){var r=t.alternate;r!==null&&(t.alternate=null,Fd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[zn],delete r[Ao],delete r[Lu],delete r[Ty],delete r[Iy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ud(t){return t.tag===5||t.tag===3||t.tag===4}function zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ud(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ba));else if(u!==4&&(t=t.child,t!==null))for(vc(t,r,o),t=t.sibling;t!==null;)vc(t,r,o),t=t.sibling}function Ec(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ec(t,r,o),t=t.sibling;t!==null;)Ec(t,r,o),t=t.sibling}var Tt=null,Cn=!1;function xr(t,r,o){for(o=o.child;o!==null;)Bd(t,r,o),o=o.sibling}function Bd(t,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(oi,o)}catch{}switch(o.tag){case 5:Nt||Is(o,r);case 6:var u=Tt,h=Cn;Tt=null,xr(t,r,o),Tt=u,Cn=h,Tt!==null&&(Cn?(t=Tt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(Cn?(t=Tt,o=o.stateNode,t.nodeType===8?xu(t.parentNode,o):t.nodeType===1&&xu(t,o),Tn(t)):xu(Tt,o.stateNode));break;case 4:u=Tt,h=Cn,Tt=o.stateNode.containerInfo,Cn=!0,xr(t,r,o),Tt=u,Cn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&yc(o,r,_),h=h.next}while(h!==u)}xr(t,r,o);break;case 1:if(!Nt&&(Is(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){Xe(o,r,T)}xr(t,r,o);break;case 21:xr(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,xr(t,r,o),Nt=u):xr(t,r,o);break;default:xr(t,r,o)}}function jd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new zy),r.forEach(function(u){var h=Ky.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Pn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 5:Tt=T.stateNode,Cn=!1;break e;case 3:Tt=T.stateNode.containerInfo,Cn=!0;break e;case 4:Tt=T.stateNode.containerInfo,Cn=!0;break e}T=T.return}if(Tt===null)throw Error(n(160));Bd(p,_,h),Tt=null,Cn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){Xe(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)bd(r,t),r=r.sibling}function bd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(r,t),bn(t),u&4){try{Mo(3,t,t.return),ul(3,t)}catch(se){Xe(t,t.return,se)}try{Mo(5,t,t.return)}catch(se){Xe(t,t.return,se)}}break;case 1:Pn(r,t),bn(t),u&512&&o!==null&&Is(o,o.return);break;case 5:if(Pn(r,t),bn(t),u&512&&o!==null&&Is(o,o.return),t.flags&32){var h=t.stateNode;try{gr(h,"")}catch(se){Xe(t,t.return,se)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,T=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Qs(h,p),to(T,_);var U=to(T,p);for(_=0;_<R.length;_+=2){var H=R[_],W=R[_+1];H==="style"?Js(h,W):H==="dangerouslySetInnerHTML"?Ys(h,W):H==="children"?gr(h,W):_e(h,H,W,U)}switch(T){case"input":Ws(h,p);break;case"textarea":zi(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Kn(h,!!p.multiple,Z,!1):q!==!!p.multiple&&(p.defaultValue!=null?Kn(h,!!p.multiple,p.defaultValue,!0):Kn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ao]=p}catch(se){Xe(t,t.return,se)}}break;case 6:if(Pn(r,t),bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(se){Xe(t,t.return,se)}}break;case 3:if(Pn(r,t),bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tn(r.containerInfo)}catch(se){Xe(t,t.return,se)}break;case 4:Pn(r,t),bn(t);break;case 13:Pn(r,t),bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Ic=Be())),u&4&&jd(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(U=Nt)||H,Pn(r,t),Nt=U):Pn(r,t),bn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!H&&t.mode&1)for(ne=t,H=t.child;H!==null;){for(W=ne=H;ne!==null;){switch(q=ne,Z=q.child,q.tag){case 0:case 11:case 14:case 15:Mo(4,q,q.return);break;case 1:Is(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(se){Xe(u,o,se)}}break;case 5:Is(q,q.return);break;case 22:if(q.memoizedState!==null){Hd(W);continue}}Z!==null?(Z.return=q,ne=Z):Hd(W)}H=H.sibling}e:for(H=null,W=t;;){if(W.tag===5){if(H===null){H=W;try{h=W.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=W.stateNode,R=W.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=Xs("display",_))}catch(se){Xe(t,t.return,se)}}}else if(W.tag===6){if(H===null)try{W.stateNode.nodeValue=U?"":W.memoizedProps}catch(se){Xe(t,t.return,se)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===t)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===t)break e;for(;W.sibling===null;){if(W.return===null||W.return===t)break e;H===W&&(H=null),W=W.return}H===W&&(H=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Pn(r,t),bn(t),u&4&&jd(t);break;case 21:break;default:Pn(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Ud(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var p=zd(t);Ec(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,T=zd(t);vc(t,T,_);break;default:throw Error(n(161))}}catch(R){Xe(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function jy(t,r,o){ne=t,$d(t)}function $d(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||ll;if(!_){var T=h.alternate,R=T!==null&&T.memoizedState!==null||Nt;T=ll;var U=Nt;if(ll=_,(Nt=R)&&!U)for(ne=h;ne!==null;)_=ne,R=_.child,_.tag===22&&_.memoizedState!==null?Qd(h):R!==null?(R.return=_,ne=R):Qd(h);for(;p!==null;)ne=p,$d(p),p=p.sibling;ne=h,ll=T,Nt=U}qd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ne=p):qd(t)}}function qd(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Nt||ul(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Hf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Hf(r,_,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var H=U.memoizedState;if(H!==null){var W=H.dehydrated;W!==null&&Tn(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&_c(r)}catch(q){Xe(r,r.return,q)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Hd(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function Qd(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{ul(4,r)}catch(R){Xe(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Xe(r,h,R)}}var p=r.return;try{_c(r)}catch(R){Xe(r,p,R)}break;case 5:var _=r.return;try{_c(r)}catch(R){Xe(r,_,R)}}}catch(R){Xe(r,r.return,R)}if(r===t){ne=null;break}var T=r.sibling;if(T!==null){T.return=r.return,ne=T;break}ne=r.return}}var by=Math.ceil,cl=Ie.ReactCurrentDispatcher,wc=Ie.ReactCurrentOwner,fn=Ie.ReactCurrentBatchConfig,De=0,yt=null,it=null,It=0,tn=0,Ss=Pr(0),ht=0,Fo=null,Ei=0,hl=0,Tc=0,Uo=null,Ht=null,Ic=0,As=1/0,cr=null,fl=!1,Sc=null,Lr=null,dl=!1,Or=null,pl=0,zo=0,Ac=null,ml=-1,gl=0;function zt(){return De&6?Be():ml!==-1?ml:ml=Be()}function Mr(t){return t.mode&1?De&2&&It!==0?It&-It:Ay.transition!==null?(gl===0&&(gl=li()),gl):(t=Se,t!==0||(t=window.event,t=t===void 0?16:fo(t.type)),t):1}function kn(t,r,o,u){if(50<zo)throw zo=0,Ac=null,Error(n(185));Er(t,o,u),(!(De&2)||t!==yt)&&(t===yt&&(!(De&2)&&(hl|=o),ht===4&&Fr(t,It)),Qt(t,u),o===1&&De===0&&!(r.mode&1)&&(As=Be()+500,qa&&Vr()))}function Qt(t,r){var o=t.callbackNode;Jn(t,r);var u=ai(t,t===yt?It:0);if(u===0)o!==null&&ao(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&ao(o),r===1)t.tag===0?Sy(Gd.bind(null,t)):xf(Gd.bind(null,t)),Ey(function(){!(De&6)&&Vr()}),o=null;else{switch(Tr(u)){case 1:o=si;break;case 4:o=yr;break;case 16:o=sn;break;case 536870912:o=ga;break;default:o=sn}o=np(o,Wd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Wd(t,r){if(ml=-1,gl=0,De&6)throw Error(n(327));var o=t.callbackNode;if(Rs()&&t.callbackNode!==o)return null;var u=ai(t,t===yt?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=yl(t,u);else{r=u;var h=De;De|=2;var p=Yd();(yt!==t||It!==r)&&(cr=null,As=Be()+500,Ti(t,r));do try{Hy();break}catch(T){Kd(t,T)}while(!0);$u(),cl.current=p,De=h,it!==null?r=0:(yt=null,It=0,r=ht)}if(r!==0){if(r===2&&(h=Yt(t),h!==0&&(u=h,r=Rc(t,h))),r===1)throw o=Fo,Ti(t,0),Fr(t,u),Qt(t,Be()),o;if(r===6)Fr(t,u);else{if(h=t.current.alternate,!(u&30)&&!$y(h)&&(r=yl(t,u),r===2&&(p=Yt(t),p!==0&&(u=p,r=Rc(t,p))),r===1))throw o=Fo,Ti(t,0),Fr(t,u),Qt(t,Be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ii(t,Ht,cr);break;case 3:if(Fr(t,u),(u&130023424)===u&&(r=Ic+500-Be(),10<r)){if(ai(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Nu(Ii.bind(null,t,Ht,cr),r);break}Ii(t,Ht,cr);break;case 4:if(Fr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Mt(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*by(u/1960))-u,10<u){t.timeoutHandle=Nu(Ii.bind(null,t,Ht,cr),u);break}Ii(t,Ht,cr);break;case 5:Ii(t,Ht,cr);break;default:throw Error(n(329))}}}return Qt(t,Be()),t.callbackNode===o?Wd.bind(null,t):null}function Rc(t,r){var o=Uo;return t.current.memoizedState.isDehydrated&&(Ti(t,r).flags|=256),t=yl(t,r),t!==2&&(r=Ht,Ht=o,r!==null&&Cc(r)),t}function Cc(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function $y(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Sn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(t,r){for(r&=~Tc,r&=~hl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Mt(r),u=1<<o;t[o]=-1,r&=~u}}function Gd(t){if(De&6)throw Error(n(327));Rs();var r=ai(t,0);if(!(r&1))return Qt(t,Be()),null;var o=yl(t,r);if(t.tag!==0&&o===2){var u=Yt(t);u!==0&&(r=u,o=Rc(t,u))}if(o===1)throw o=Fo,Ti(t,0),Fr(t,r),Qt(t,Be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ii(t,Ht,cr),Qt(t,Be()),null}function Pc(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(As=Be()+500,qa&&Vr())}}function wi(t){Or!==null&&Or.tag===0&&!(De&6)&&Rs();var r=De;De|=1;var o=fn.transition,u=Se;try{if(fn.transition=null,Se=1,t)return t()}finally{Se=u,fn.transition=o,De=r,!(De&6)&&Vr()}}function kc(){tn=Ss.current,qe(Ss)}function Ti(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,vy(o)),it!==null)for(o=it.return;o!==null;){var u=o;switch(Uu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ba();break;case 3:ws(),qe(bt),qe(kt),Xu();break;case 5:Ku(u);break;case 4:ws();break;case 13:qe(Ge);break;case 19:qe(Ge);break;case 10:qu(u.type._context);break;case 22:case 23:kc()}o=o.return}if(yt=t,it=t=Ur(t.current,null),It=tn=r,ht=0,Fo=null,Tc=hl=Ei=0,Ht=Uo=null,yi!==null){for(r=0;r<yi.length;r++)if(o=yi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}yi=null}return t}function Kd(t,r){do{var o=it;try{if($u(),el.current=il,tl){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}tl=!1}if(vi=0,gt=ct=Ke=null,Do=!1,No=0,wc.current=null,o===null||o.return===null){ht=1,Fo=r,it=null;break}e:{var p=t,_=o.return,T=o,R=r;if(r=It,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,H=T,W=H.tag;if(!(H.mode&1)&&(W===0||W===11||W===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var Z=Ed(_);if(Z!==null){Z.flags&=-257,wd(Z,_,T,p,r),Z.mode&1&&vd(p,U,r),r=Z,R=U;var ie=r.updateQueue;if(ie===null){var se=new Set;se.add(R),r.updateQueue=se}else ie.add(R);break e}else{if(!(r&1)){vd(p,U,r),Vc();break e}R=Error(n(426))}}else if(We&&T.mode&1){var tt=Ed(_);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),wd(tt,_,T,p,r),ju(Ts(R,T));break e}}p=R=Ts(R,T),ht!==4&&(ht=2),Uo===null?Uo=[p]:Uo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var O=yd(p,R,r);qf(p,O);break e;case 1:T=R;var P=p.type,M=p.stateNode;if(!(p.flags&128)&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Lr===null||!Lr.has(M)))){p.flags|=65536,r&=-r,p.lanes|=r;var G=_d(p,T,r);qf(p,G);break e}}p=p.return}while(p!==null)}Jd(o)}catch(oe){r=oe,it===o&&o!==null&&(it=o=o.return);continue}break}while(!0)}function Yd(){var t=cl.current;return cl.current=il,t===null?il:t}function Vc(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(Ei&268435455)&&!(hl&268435455)||Fr(yt,It)}function yl(t,r){var o=De;De|=2;var u=Yd();(yt!==t||It!==r)&&(cr=null,Ti(t,r));do try{qy();break}catch(h){Kd(t,h)}while(!0);if($u(),De=o,cl.current=u,it!==null)throw Error(n(261));return yt=null,It=0,ht}function qy(){for(;it!==null;)Xd(it)}function Hy(){for(;it!==null&&!pa();)Xd(it)}function Xd(t){var r=tp(t.alternate,t,tn);t.memoizedProps=t.pendingProps,r===null?Jd(t):it=r,wc.current=null}function Jd(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Uy(o,r),o!==null){o.flags&=32767,it=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,it=null;return}}else if(o=Fy(o,r,tn),o!==null){it=o;return}if(r=r.sibling,r!==null){it=r;return}it=r=t}while(r!==null);ht===0&&(ht=5)}function Ii(t,r,o){var u=Se,h=fn.transition;try{fn.transition=null,Se=1,Qy(t,r,o,u)}finally{fn.transition=h,Se=u}return null}function Qy(t,r,o,u){do Rs();while(Or!==null);if(De&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===yt&&(it=yt=null,It=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||dl||(dl=!0,np(sn,function(){return Rs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=fn.transition,fn.transition=null;var _=Se;Se=1;var T=De;De|=4,wc.current=null,By(t,o),bd(o,t),fy(Vu),Sr=!!ku,Vu=ku=null,t.current=o,jy(o),du(),De=T,Se=_,fn.transition=p}else t.current=o;if(dl&&(dl=!1,Or=t,pl=h),p=t.pendingLanes,p===0&&(Lr=null),ya(o.stateNode),Qt(t,Be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(fl)throw fl=!1,t=Sc,Sc=null,t;return pl&1&&t.tag!==0&&Rs(),p=t.pendingLanes,p&1?t===Ac?zo++:(zo=0,Ac=t):zo=0,Vr(),null}function Rs(){if(Or!==null){var t=Tr(pl),r=fn.transition,o=Se;try{if(fn.transition=null,Se=16>t?16:t,Or===null)var u=!1;else{if(t=Or,Or=null,pl=0,De&6)throw Error(n(331));var h=De;for(De|=4,ne=t.current;ne!==null;){var p=ne,_=p.child;if(ne.flags&16){var T=p.deletions;if(T!==null){for(var R=0;R<T.length;R++){var U=T[R];for(ne=U;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:Mo(8,H,p)}var W=H.child;if(W!==null)W.return=H,ne=W;else for(;ne!==null;){H=ne;var q=H.sibling,Z=H.return;if(Fd(H),H===U){ne=null;break}if(q!==null){q.return=Z,ne=q;break}ne=Z}}}var ie=p.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var tt=se.sibling;se.sibling=null,se=tt}while(se!==null)}}ne=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,ne=_;else e:for(;ne!==null;){if(p=ne,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Mo(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,ne=O;break e}ne=p.return}}var P=t.current;for(ne=P;ne!==null;){_=ne;var M=_.child;if(_.subtreeFlags&2064&&M!==null)M.return=_,ne=M;else e:for(_=P;ne!==null;){if(T=ne,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:ul(9,T)}}catch(oe){Xe(T,T.return,oe)}if(T===_){ne=null;break e}var G=T.sibling;if(G!==null){G.return=T.return,ne=G;break e}ne=T.return}}if(De=h,Vr(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(oi,t)}catch{}u=!0}return u}finally{Se=o,fn.transition=r}}return!1}function Zd(t,r,o){r=Ts(o,r),r=yd(t,r,1),t=Nr(t,r,1),r=zt(),t!==null&&(Er(t,1,r),Qt(t,r))}function Xe(t,r,o){if(t.tag===3)Zd(t,t,o);else for(;r!==null;){if(r.tag===3){Zd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Lr===null||!Lr.has(u))){t=Ts(o,t),t=_d(r,t,1),r=Nr(r,t,1),t=zt(),r!==null&&(Er(r,1,t),Qt(r,t));break}}r=r.return}}function Wy(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,yt===t&&(It&o)===o&&(ht===4||ht===3&&(It&130023424)===It&&500>Be()-Ic?Ti(t,0):Tc|=o),Qt(t,r)}function ep(t,r){r===0&&(t.mode&1?(r=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):r=1);var o=zt();t=ar(t,r),t!==null&&(Er(t,r,o),Qt(t,o))}function Gy(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),ep(t,o)}function Ky(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),ep(t,o)}var tp;tp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||bt.current)qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return qt=!1,My(t,r,o);qt=!!(t.flags&131072)}else qt=!1,We&&r.flags&1048576&&Lf(r,Qa,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;al(t,r),t=r.pendingProps;var h=ps(r,kt.current);Es(r,o),h=ec(null,r,u,t,h,o);var p=tc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$t(u)?(p=!0,$a(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Wu(r),h.updater=sl,r.stateNode=h,h._reactInternals=r,ac(r,u,t,o),r=hc(null,r,u,!0,p,o)):(r.tag=0,We&&p&&Fu(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(al(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Xy(u),t=Rn(u,t),h){case 0:r=cc(null,r,u,t,o);break e;case 1:r=Cd(null,r,u,t,o);break e;case 11:r=Td(null,r,u,t,o);break e;case 14:r=Id(null,r,u,Rn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),cc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Cd(t,r,u,h,o);case 3:e:{if(Pd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,$f(t,r),Ja(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Ts(Error(n(423)),r),r=kd(t,r,u,o,h);break e}else if(u!==h){h=Ts(Error(n(424)),r),r=kd(t,r,u,o,h);break e}else for(en=Cr(r.stateNode.containerInfo.firstChild),Zt=r,We=!0,An=null,o=jf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ys(),u===h){r=ur(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return Qf(r),t===null&&Bu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,Du(u,h)?_=null:p!==null&&Du(u,p)&&(r.flags|=32),Rd(t,r),Ut(t,r,_,o),r.child;case 6:return t===null&&Bu(r),null;case 13:return Vd(t,r,o);case 4:return Gu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=_s(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Td(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,je(Ka,u._currentValue),u._currentValue=_,p!==null)if(Sn(p.value,_)){if(p.children===h.children&&!bt.current){r=ur(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){_=p.child;for(var R=T.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=lr(-1,o&-o),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var H=U.pending;H===null?R.next=R:(R.next=H.next,H.next=R),U.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),Hu(p.return,o,r),T.lanes|=o;break}R=R.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,T=_.alternate,T!==null&&(T.lanes|=o),Hu(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Es(r,o),h=cn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Rn(u,r.pendingProps),h=Rn(u.type,h),Id(t,r,u,h,o);case 15:return Sd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),al(t,r),r.tag=1,$t(u)?(t=!0,$a(r)):t=!1,Es(r,o),md(r,u,h),ac(r,u,h,o),hc(null,r,u,!0,t,o);case 19:return Nd(t,r,o);case 22:return Ad(t,r,o)}throw Error(n(156,r.tag))};function np(t,r){return Wi(t,r)}function Yy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,o,u){return new Yy(t,r,o,u)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xy(t){if(typeof t=="function")return Dc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x)return 11;if(t===Ct)return 14}return 2}function Ur(t,r){var o=t.alternate;return o===null?(o=dn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function _l(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")Dc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case V:return Si(o.children,h,p,r);case I:_=8,h|=8;break;case A:return t=dn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=dn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Ze:return t=dn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case Fe:return vl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case D:_=9;break e;case x:_=11;break e;case Ct:_=14;break e;case Pt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=dn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Si(t,r,o,u){return t=dn(7,t,u,r),t.lanes=o,t}function vl(t,r,o,u){return t=dn(22,t,u,r),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function Nc(t,r,o){return t=dn(6,t,null,r),t.lanes=o,t}function xc(t,r,o){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Jy(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vr(0),this.expirationTimes=vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Lc(t,r,o,u,h,p,_,T,R){return t=new Jy(t,r,o,T,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=dn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(p),t}function Zy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ve,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function rp(t){if(!t)return kr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if($t(o))return Df(t,o,r)}return r}function ip(t,r,o,u,h,p,_,T,R){return t=Lc(o,u,!0,t,h,p,_,T,R),t.context=rp(null),o=t.current,u=zt(),h=Mr(o),p=lr(u,h),p.callback=r??null,Nr(o,p,h),t.current.lanes=h,Er(t,h,u),Qt(t,u),t}function El(t,r,o,u){var h=r.current,p=zt(),_=Mr(h);return o=rp(o),r.context===null?r.context=o:r.pendingContext=o,r=lr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Nr(h,r,_),t!==null&&(kn(t,h,_,p),Xa(t,h,_)),_}function wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Oc(t,r){sp(t,r),(t=t.alternate)&&sp(t,r)}var op=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mc(t){this._internalRoot=t}Tl.prototype.render=Mc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));El(t,r,null,null)},Tl.prototype.unmount=Mc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;wi(function(){El(null,t,null,null)}),r[rr]=null}};function Tl(t){this._internalRoot=t}Tl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ta();t={blockedOn:null,target:t,priority:r};for(var o=0;o<On.length&&r!==0&&r<On[o].priority;o++);On.splice(o,0,t),o===0&&Aa(t)}};function Fc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Il(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ap(){}function e_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=wl(_);p.call(U)}}var _=ip(r,u,t,0,null,!1,!1,"",ap);return t._reactRootContainer=_,t[rr]=_.current,Io(t.nodeType===8?t.parentNode:t),wi(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var U=wl(R);T.call(U)}}var R=Lc(t,0,!1,null,null,!1,!1,"",ap);return t._reactRootContainer=R,t[rr]=R.current,Io(t.nodeType===8?t.parentNode:t),wi(function(){El(r,R,o,u)}),R}function Sl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var T=h;h=function(){var R=wl(_);T.call(R)}}El(r,_,t,h)}else _=e_(o,r,t,h,u);return wl(_)}Ea=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=_r(r.pendingLanes);o!==0&&(wr(r,o|1),Qt(r,Be()),!(De&6)&&(As=Be()+500,Vr()))}break;case 13:wi(function(){var u=ar(t,1);if(u!==null){var h=zt();kn(u,t,1,h)}}),Oc(t,1)}},Yi=function(t){if(t.tag===13){var r=ar(t,134217728);if(r!==null){var o=zt();kn(r,t,134217728,o)}Oc(t,134217728)}},wa=function(t){if(t.tag===13){var r=Mr(t),o=ar(t,r);if(o!==null){var u=zt();kn(o,t,r,u)}Oc(t,r)}},Ta=function(){return Se},Ia=function(t,r){var o=Se;try{return Se=t,r()}finally{Se=o}},ji=function(t,r,o){switch(r){case"input":if(Ws(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=ja(u);if(!h)throw Error(n(90));Oi(u),Ws(u,h)}}}break;case"textarea":zi(t,o);break;case"select":r=o.value,r!=null&&Kn(t,!!o.multiple,r,!1)}},ti=Pc,ro=wi;var t_={usingClientEntryPoint:!1,Events:[Ro,fs,ja,xn,no,Pc]},Bo={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n_={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oo(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{oi=Al.inject(n_),Kt=Al}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t_,Wt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(r))throw Error(n(200));return Zy(t,r,null,o)},Wt.createRoot=function(t,r){if(!Fc(t))throw Error(n(299));var o=!1,u="",h=op;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Lc(t,1,!1,null,null,o,!1,u,h),t[rr]=r.current,Io(t.nodeType===8?t.parentNode:t),new Mc(r)},Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=oo(r),t=t===null?null:t.stateNode,t},Wt.flushSync=function(t){return wi(t)},Wt.hydrate=function(t,r,o){if(!Il(r))throw Error(n(200));return Sl(null,t,r,!0,o)},Wt.hydrateRoot=function(t,r,o){if(!Fc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=op;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=ip(r,null,t,1,o??null,h,!1,p,_),t[rr]=r.current,Io(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Tl(r)},Wt.render=function(t,r,o){if(!Il(r))throw Error(n(200));return Sl(null,t,r,!1,o)},Wt.unmountComponentAtNode=function(t){if(!Il(t))throw Error(n(40));return t._reactRootContainer?(wi(function(){Sl(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1},Wt.unstable_batchedUpdates=Pc,Wt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Il(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Sl(t,r,o,!1,u)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var mp;function h_(){if(mp)return Bc.exports;mp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bc.exports=c_(),Bc.exports}var gp;function f_(){if(gp)return Rl;gp=1;var i=h_();return Rl.createRoot=i.createRoot,Rl.hydrateRoot=i.hydrateRoot,Rl}var d_=f_();const p_=gm(d_),m_=({setUser:i})=>{const[e,n]=$n.useState(""),s=()=>{e.trim()&&i(e)};return be.jsxs("div",{children:[be.jsx("h2",{children:"Enter Your Name"}),be.jsx("input",{type:"text",value:e,onChange:a=>n(a.target.value),placeholder:"Your Name",className:"form-control"}),be.jsx("button",{onClick:s,className:"btn btn-primary mt-2",children:"Enter"})]})};var yp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},g_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},_m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,E=y?i[a+2]:0,w=c>>2,C=(c&3)<<4|m>>4;let F=(m&15)<<2|E>>6,B=E&63;y||(B=64,f||(F=64)),s.push(n[w],n[C],n[F],n[B])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ym(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):g_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||E==null||C==null)throw new y_;const F=c<<2|m>>4;if(s.push(F),E!==64){const B=m<<4&240|E>>2;if(s.push(B),C!==64){const Y=E<<6&192|C;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class y_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const __=function(i){const e=ym(i);return _m.encodeByteArray(e,!0)},Ul=function(i){return __(i).replace(/\./g,"")},v_=function(i){try{return _m.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=()=>E_().__FIREBASE_DEFAULTS__,T_=()=>{if(typeof process>"u"||typeof yp>"u")return;const i=yp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},I_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&v_(i[1]);return e&&JSON.parse(e)},Eh=()=>{try{return w_()||T_()||I_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},S_=i=>{var e,n;return(n=(e=Eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},A_=i=>{const e=S_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vm=()=>{var i;return(i=Eh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ul(JSON.stringify(n)),Ul(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k_(){var i;const e=(i=Eh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V_(){return!k_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D_(){try{return typeof indexedDB=="object"}catch{return!1}}function N_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="FirebaseError";class Bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=x_,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Em.prototype.create)}}class Em{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?L_(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Bs(a,m,s)}}function L_(i,e){return i.replace(O_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const O_=/\{\$([^}]+)}/g;function Xc(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(_p(c)&&_p(f)){if(!Xc(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function _p(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(i){return i&&i._delegate?i._delegate:i}class Yo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new R_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U_(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:F_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F_(i){return i===Ai?void 0:i}function U_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const B_={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},j_=ke.INFO,b_={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},$_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=b_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=j_,this._logHandler=$_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const q_=(i,e)=>e.some(n=>i instanceof n);let vp,Ep;function H_(){return vp||(vp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q_(){return Ep||(Ep=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tm=new WeakMap,Jc=new WeakMap,Im=new WeakMap,$c=new WeakMap,wh=new WeakMap;function W_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(jr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Tm.set(n,i)}).catch(()=>{}),wh.set(e,i),e}function G_(i){if(Jc.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Jc.set(i,e)}let Zc={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Jc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Im.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function K_(i){Zc=i(Zc)}function Y_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(qc(this),e,...n);return Im.set(s,e.sort?e.sort():[e]),jr(s)}:Q_().includes(i)?function(...e){return i.apply(qc(this),e),jr(Tm.get(this))}:function(...e){return jr(i.apply(qc(this),e))}}function X_(i){return typeof i=="function"?Y_(i):(i instanceof IDBTransaction&&G_(i),q_(i,H_())?new Proxy(i,Zc):i)}function jr(i){if(i instanceof IDBRequest)return W_(i);if($c.has(i))return $c.get(i);const e=X_(i);return e!==i&&($c.set(i,e),wh.set(e,i)),e}const qc=i=>wh.get(i);function J_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=jr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(jr(f.result),y.oldVersion,y.newVersion,jr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),m}const Z_=["get","getKey","getAll","getAllKeys","count"],ev=["put","add","delete","clear"],Hc=new Map;function wp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Hc.get(e))return Hc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ev.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Z_.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let E=y.store;return s&&(E=E.index(m.shift())),(await Promise.all([E[n](...m),a&&y.done]))[0]};return Hc.set(e,c),c}K_(i=>({...i,get:(e,n,s)=>wp(e,n)||i.get(e,n,s),has:(e,n)=>!!wp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eh="@firebase/app",Tp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new wm("@firebase/app"),rv="@firebase/app-compat",iv="@firebase/analytics-compat",sv="@firebase/analytics",ov="@firebase/app-check-compat",av="@firebase/app-check",lv="@firebase/auth",uv="@firebase/auth-compat",cv="@firebase/database",hv="@firebase/data-connect",fv="@firebase/database-compat",dv="@firebase/functions",pv="@firebase/functions-compat",mv="@firebase/installations",gv="@firebase/installations-compat",yv="@firebase/messaging",_v="@firebase/messaging-compat",vv="@firebase/performance",Ev="@firebase/performance-compat",wv="@firebase/remote-config",Tv="@firebase/remote-config-compat",Iv="@firebase/storage",Sv="@firebase/storage-compat",Av="@firebase/firestore",Rv="@firebase/vertexai",Cv="@firebase/firestore-compat",Pv="firebase",kv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="[DEFAULT]",Vv={[eh]:"fire-core",[rv]:"fire-core-compat",[sv]:"fire-analytics",[iv]:"fire-analytics-compat",[av]:"fire-app-check",[ov]:"fire-app-check-compat",[lv]:"fire-auth",[uv]:"fire-auth-compat",[cv]:"fire-rtdb",[hv]:"fire-data-connect",[fv]:"fire-rtdb-compat",[dv]:"fire-fn",[pv]:"fire-fn-compat",[mv]:"fire-iid",[gv]:"fire-iid-compat",[yv]:"fire-fcm",[_v]:"fire-fcm-compat",[vv]:"fire-perf",[Ev]:"fire-perf-compat",[wv]:"fire-rc",[Tv]:"fire-rc-compat",[Iv]:"fire-gcs",[Sv]:"fire-gcs-compat",[Av]:"fire-fst",[Cv]:"fire-fst-compat",[Rv]:"fire-vertex","fire-js":"fire-js",[Pv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new Map,Dv=new Map,nh=new Map;function Ip(i,e){try{i.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Bl(i){const e=i.name;if(nh.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;nh.set(e,i);for(const n of zl.values())Ip(n,i);for(const n of Dv.values())Ip(n,i);return!0}function Nv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Em("app","Firebase",xv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=kv;function Sm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:th,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw br.create("bad-app-name",{appName:String(a)});if(n||(n=vm()),!n)throw br.create("no-options");const c=zl.get(a);if(c){if(Xc(n,c.options)&&Xc(s,c.config))return c;throw br.create("duplicate-app",{appName:a})}const f=new z_(a);for(const y of nh.values())f.addComponent(y);const m=new Lv(n,s,f);return zl.set(a,m),m}function Mv(i=th){const e=zl.get(i);if(!e&&i===th&&vm())return Sm();if(!e)throw br.create("no-app",{appName:i});return e}function Ds(i,e,n){var s;let a=(s=Vv[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(m.join(" "));return}Bl(new Yo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="firebase-heartbeat-database",Uv=1,Xo="firebase-heartbeat-store";let Qc=null;function Am(){return Qc||(Qc=J_(Fv,Uv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(i=>{throw br.create("idb-open",{originalErrorMessage:i.message})})),Qc}async function zv(i){try{const n=(await Am()).transaction(Xo),s=await n.objectStore(Xo).get(Rm(i));return await n.done,s}catch(e){if(e instanceof Bs)fr.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function Sp(i,e){try{const s=(await Am()).transaction(Xo,"readwrite");await s.objectStore(Xo).put(e,Rm(i)),await s.done}catch(n){if(n instanceof Bs)fr.warn(n.message);else{const s=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(s.message)}}}function Rm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=1024,jv=30*24*60*60*1e3;class bv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ap();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=jv}),this._storage.overwrite(this._heartbeatsCache))}catch(s){fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ap(),{heartbeatsToSend:s,unsentEntries:a}=$v(this._heartbeatsCache.heartbeats),c=Ul(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return fr.warn(n),""}}}function Ap(){return new Date().toISOString().substring(0,10)}function $v(i,e=Bv){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Rp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Rp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D_()?N_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Sp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Sp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Rp(i){return Ul(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(i){Bl(new Yo("platform-logger",e=>new tv(e),"PRIVATE")),Bl(new Yo("heartbeat",e=>new bv(e),"PRIVATE")),Ds(eh,Tp,i),Ds(eh,Tp,"esm2017"),Ds("fire-js","")}Hv("");var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,Cm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function A(){}A.prototype=I.prototype,V.D=I.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(k,D,x){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return I.prototype[D].apply(k,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,A){A||(A=0);var k=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)k[D]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(D=0;16>D;++D)k[D]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=V.g[0],A=V.g[1],D=V.g[2];var x=V.g[3],S=I+(x^A&(D^x))+k[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=x+(D^I&(A^D))+k[1]+3905402710&4294967295,x=I+(S<<12&4294967295|S>>>20),S=D+(A^x&(I^A))+k[2]+606105819&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(I^D&(x^I))+k[3]+3250441966&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(x^A&(D^x))+k[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(D^I&(A^D))+k[5]+1200080426&4294967295,x=I+(S<<12&4294967295|S>>>20),S=D+(A^x&(I^A))+k[6]+2821735955&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(I^D&(x^I))+k[7]+4249261313&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(x^A&(D^x))+k[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(D^I&(A^D))+k[9]+2336552879&4294967295,x=I+(S<<12&4294967295|S>>>20),S=D+(A^x&(I^A))+k[10]+4294925233&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(I^D&(x^I))+k[11]+2304563134&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(x^A&(D^x))+k[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=x+(D^I&(A^D))+k[13]+4254626195&4294967295,x=I+(S<<12&4294967295|S>>>20),S=D+(A^x&(I^A))+k[14]+2792965006&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(I^D&(x^I))+k[15]+1236535329&4294967295,A=D+(S<<22&4294967295|S>>>10),S=I+(D^x&(A^D))+k[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(I^A))+k[6]+3225465664&4294967295,x=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(x^I))+k[11]+643717713&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(D^x))+k[0]+3921069994&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(D^x&(A^D))+k[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(I^A))+k[10]+38016083&4294967295,x=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(x^I))+k[15]+3634488961&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(D^x))+k[4]+3889429448&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(D^x&(A^D))+k[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(I^A))+k[14]+3275163606&4294967295,x=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(x^I))+k[3]+4107603335&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(D^x))+k[8]+1163531501&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(D^x&(A^D))+k[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(I^A))+k[2]+4243563512&4294967295,x=I+(S<<9&4294967295|S>>>23),S=D+(I^A&(x^I))+k[7]+1735328473&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^I&(D^x))+k[12]+2368359562&4294967295,A=D+(S<<20&4294967295|S>>>12),S=I+(A^D^x)+k[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^D)+k[8]+2272392833&4294967295,x=I+(S<<11&4294967295|S>>>21),S=D+(x^I^A)+k[11]+1839030562&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^I)+k[14]+4259657740&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(A^D^x)+k[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^D)+k[4]+1272893353&4294967295,x=I+(S<<11&4294967295|S>>>21),S=D+(x^I^A)+k[7]+4139469664&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^I)+k[10]+3200236656&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(A^D^x)+k[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^D)+k[0]+3936430074&4294967295,x=I+(S<<11&4294967295|S>>>21),S=D+(x^I^A)+k[3]+3572445317&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^I)+k[6]+76029189&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(A^D^x)+k[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=x+(I^A^D)+k[12]+3873151461&4294967295,x=I+(S<<11&4294967295|S>>>21),S=D+(x^I^A)+k[15]+530742520&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^I)+k[2]+3299628645&4294967295,A=D+(S<<23&4294967295|S>>>9),S=I+(D^(A|~x))+k[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~D))+k[7]+1126891415&4294967295,x=I+(S<<10&4294967295|S>>>22),S=D+(I^(x|~A))+k[14]+2878612391&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~I))+k[5]+4237533241&4294967295,A=D+(S<<21&4294967295|S>>>11),S=I+(D^(A|~x))+k[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~D))+k[3]+2399980690&4294967295,x=I+(S<<10&4294967295|S>>>22),S=D+(I^(x|~A))+k[10]+4293915773&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~I))+k[1]+2240044497&4294967295,A=D+(S<<21&4294967295|S>>>11),S=I+(D^(A|~x))+k[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~D))+k[15]+4264355552&4294967295,x=I+(S<<10&4294967295|S>>>22),S=D+(I^(x|~A))+k[6]+2734768916&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~I))+k[13]+1309151649&4294967295,A=D+(S<<21&4294967295|S>>>11),S=I+(D^(A|~x))+k[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=x+(A^(I|~D))+k[11]+3174756917&4294967295,x=I+(S<<10&4294967295|S>>>22),S=D+(I^(x|~A))+k[2]+718787259&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~I))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var A=I-this.blockSize,k=this.B,D=this.h,x=0;x<I;){if(D==0)for(;x<=A;)a(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<I;)if(k[D++]=V.charCodeAt(x++),D==this.blockSize){a(this,k),D=0;break}}else for(;x<I;)if(k[D++]=V[x++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var A=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=A&255,A/=256;for(this.u(V),V=Array(16),I=A=0;4>I;++I)for(var k=0;32>k;k+=8)V[A++]=this.g[I]>>>k&255;return V};function c(V,I){var A=m;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=I(V)}function f(V,I){this.h=I;for(var A=[],k=!0,D=V.length-1;0<=D;D--){var x=V[D]|0;k&&x==I||(A[D]=x,k=!1)}this.g=A}var m={};function y(V){return-128<=V&&128>V?c(V,function(I){return new f([I|0],0>I?-1:0)}):new f([V|0],0>V?-1:0)}function E(V){if(isNaN(V)||!isFinite(V))return C;if(0>V)return Q(E(-V));for(var I=[],A=1,k=0;V>=A;k++)I[k]=V/A|0,A*=4294967296;return new f(I,0)}function w(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return Q(w(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(I,8)),k=C,D=0;D<V.length;D+=8){var x=Math.min(8,V.length-D),S=parseInt(V.substring(D,D+x),I);8>x?(x=E(Math.pow(I,x)),k=k.j(x).add(E(S))):(k=k.j(A),k=k.add(E(S)))}return k}var C=y(0),F=y(1),B=y(16777216);i=f.prototype,i.m=function(){if(X(this))return-Q(this).m();for(var V=0,I=1,A=0;A<this.g.length;A++){var k=this.i(A);V+=(0<=k?k:4294967296+k)*I,I*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Y(this))return"0";if(X(this))return"-"+Q(this).toString(V);for(var I=E(Math.pow(V,6)),A=this,k="";;){var D=Ie(A,I).g;A=ge(A,D.j(I));var x=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=D,Y(A))return x+k;for(;6>x.length;)x="0"+x;k=x+k}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Y(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function X(V){return V.h==-1}i.l=function(V){return V=ge(this,V),X(V)?-1:Y(V)?0:1};function Q(V){for(var I=V.g.length,A=[],k=0;k<I;k++)A[k]=~V.g[k];return new f(A,~V.h).add(F)}i.abs=function(){return X(this)?Q(this):this},i.add=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0,D=0;D<=I;D++){var x=k+(this.i(D)&65535)+(V.i(D)&65535),S=(x>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);k=S>>>16,x&=65535,S&=65535,A[D]=S<<16|x}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ge(V,I){return V.add(Q(I))}i.j=function(V){if(Y(this)||Y(V))return C;if(X(this))return X(V)?Q(this).j(Q(V)):Q(Q(this).j(V));if(X(V))return Q(this.j(Q(V)));if(0>this.l(B)&&0>V.l(B))return E(this.m()*V.m());for(var I=this.g.length+V.g.length,A=[],k=0;k<2*I;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<V.g.length;D++){var x=this.i(k)>>>16,S=this.i(k)&65535,Ze=V.i(D)>>>16,Ct=V.i(D)&65535;A[2*k+2*D]+=S*Ct,ye(A,2*k+2*D),A[2*k+2*D+1]+=x*Ct,ye(A,2*k+2*D+1),A[2*k+2*D+1]+=S*Ze,ye(A,2*k+2*D+1),A[2*k+2*D+2]+=x*Ze,ye(A,2*k+2*D+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new f(A,0)};function ye(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function _e(V,I){this.g=V,this.h=I}function Ie(V,I){if(Y(I))throw Error("division by zero");if(Y(V))return new _e(C,C);if(X(V))return I=Ie(Q(V),I),new _e(Q(I.g),Q(I.h));if(X(I))return I=Ie(V,Q(I)),new _e(Q(I.g),I.h);if(30<V.g.length){if(X(V)||X(I))throw Error("slowDivide_ only works with positive integers.");for(var A=F,k=I;0>=k.l(V);)A=Je(A),k=Je(k);var D=Ve(A,1),x=Ve(k,1);for(k=Ve(k,2),A=Ve(A,2);!Y(k);){var S=x.add(k);0>=S.l(V)&&(D=D.add(A),x=S),k=Ve(k,1),A=Ve(A,1)}return I=ge(V,D.j(I)),new _e(D,I)}for(D=C;0<=V.l(I);){for(A=Math.max(1,Math.floor(V.m()/I.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),x=E(A),S=x.j(I);X(S)||0<S.l(V);)A-=k,x=E(A),S=x.j(I);Y(x)&&(x=F),D=D.add(x),V=ge(V,S)}return new _e(D,V)}i.A=function(V){return Ie(this,V).h},i.and=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)&V.i(k);return new f(A,this.h&V.h)},i.or=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)|V.i(k);return new f(A,this.h|V.h)},i.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)^V.i(k);return new f(A,this.h^V.h)};function Je(V){for(var I=V.g.length+1,A=[],k=0;k<I;k++)A[k]=V.i(k)<<1|V.i(k-1)>>>31;return new f(A,V.h)}function Ve(V,I){var A=I>>5;I%=32;for(var k=V.g.length-A,D=[],x=0;x<k;x++)D[x]=0<I?V.i(x+A)>>>I|V.i(x+A+1)<<32-I:V.i(x+A);return new f(D,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Cm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=w,Ci=f}).apply(typeof Cp<"u"?Cp:typeof self<"u"?self:typeof window<"u"?window:{});var Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pm,bo,km,Nl,rh,Vm,Dm,Nm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cl=="object"&&Cl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var L=l[v];if(!(L in g))break e;g=g[L]}l=l[l.length-1],v=g[l],d=d(v),d!=v&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,v=!1,L={next:function(){if(!v&&g<l.length){var z=g++;return{value:d(z,l[z]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,g){return l.call.apply(l.bind,arguments)}function C(l,d,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function F(l,d,g){return F=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:C,F.apply(null,arguments)}function B(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function Y(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,L,z){for(var K=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)K[Me-2]=arguments[Me];return d.prototype[L].apply(v,K)}}function X(l){const d=l.length;if(0<d){const g=Array(d);for(let v=0;v<d;v++)g[v]=l[v];return g}return[]}function Q(l,d){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(y(v)){const L=l.length||0,z=v.length||0;l.length=L+z;for(let K=0;K<z;K++)l[L+K]=v[K]}else l.push(v)}}class ge{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ye(l){return/^[\s\xa0]*$/.test(l)}function _e(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Ie(l){return Ie[" "](l),l}Ie[" "]=function(){};var Je=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function Ve(l,d,g){for(const v in l)d.call(g,l[v],v,l)}function V(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function I(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let g,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(g in v)l[g]=v[g];for(let z=0;z<A.length;z++)g=A[z],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function D(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function x(l){m.setTimeout(()=>{throw l},0)}function S(){var l=ue;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const v=Ct.get();v.set(d,g),this.h?this.h.next=v:this.g=v,this.h=v}}var Ct=new ge(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,J=!1,ue=new Ze,ee=()=>{const l=m.Promise.resolve(void 0);Fe=()=>{l.then(N)}};var N=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){x(g)}var d=Ct;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function Ee(l,d){if(ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Je){e:{try{Ie(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ee.aa.h.call(this)}}Y(Ee,ae);var Re={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function ze(l,d,g,v,L){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!v,this.ha=L,this.key=++Le,this.da=this.fa=!1}function pt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Wn(l){this.src=l,this.g={},this.h=0}Wn.prototype.add=function(l,d,g,v,L){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var K=mr(l,d,v,L);return-1<K?(d=l[K],g||(d.fa=!1)):(d=new ze(d,this.src,z,!!v,L),d.fa=g,l.push(d)),d};function Oi(l,d){var g=d.type;if(g in l.g){var v=l.g[g],L=Array.prototype.indexOf.call(v,d,void 0),z;(z=0<=L)&&Array.prototype.splice.call(v,L,1),z&&(pt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function mr(l,d,g,v){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==d&&z.capture==!!g&&z.ha==v)return L}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),Mi={};function Qs(l,d,g,v,L){if(Array.isArray(d)){for(var z=0;z<d.length;z++)Qs(l,d[z],g,v,L);return null}return g=Ks(g),l&&l[xe]?l.K(d,g,E(v)?!!v.capture:!!v,L):Ws(l,d,g,!1,v,L)}function Ws(l,d,g,v,L,z){if(!d)throw Error("Invalid event type");var K=E(L)?!!L.capture:!!L,Me=Ui(l);if(Me||(l[Xr]=Me=new Wn(l)),g=Me.add(d,g,v,K,z),g.proxy)return g;if(v=ha(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)ve||(L=K),L===void 0&&(L=!1),l.addEventListener(d.toString(),v,L);else if(l.attachEvent)l.attachEvent(Kn(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ha(){function l(g){return d.call(l.src,l.listener,g)}const d=Gs;return l}function Fi(l,d,g,v,L){if(Array.isArray(d))for(var z=0;z<d.length;z++)Fi(l,d[z],g,v,L);else v=E(v)?!!v.capture:!!v,g=Ks(g),l&&l[xe]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],g=mr(z,g,v,L),-1<g&&(pt(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=Ui(l))&&(d=l.g[d.toString()],l=-1,d&&(l=mr(d,g,v,L)),(g=-1<l?d[l]:null)&&Gn(g))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[xe])Oi(d.i,l);else{var g=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(g,v,l.capture):d.detachEvent?d.detachEvent(Kn(g),v):d.addListener&&d.removeListener&&d.removeListener(v),(g=Ui(d))?(Oi(g,l),g.h==0&&(g.src=null,d[Xr]=null)):pt(l)}}}function Kn(l){return l in Mi?Mi[l]:Mi[l]="on"+l}function Gs(l,d){if(l.da)l=!0;else{d=new Ee(d,this);var g=l.listener,v=l.ha||l.src;l.fa&&Gn(l),l=g.call(v,d)}return l}function Ui(l){return l=l[Xr],l instanceof Wn?l:null}var zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(l){return typeof l=="function"?l:(l[zi]||(l[zi]=function(d){return l.handleEvent(d)}),l[zi])}function at(){b.call(this),this.i=new Wn(this),this.M=this,this.F=null}Y(at,b),at.prototype[xe]=!0,at.prototype.removeEventListener=function(l,d,g,v){Fi(this,l,d,g,v)};function lt(l,d){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new ae(d,l);else if(d instanceof ae)d.target=d.target||l;else{var L=d;d=new ae(v,l),k(d,L)}if(L=!0,g)for(var z=g.length-1;0<=z;z--){var K=d.g=g[z];L=Yn(K,v,!0,d)&&L}if(K=d.g=l,L=Yn(K,v,!0,d)&&L,L=Yn(K,v,!1,d)&&L,g)for(z=0;z<g.length;z++)K=d.g=g[z],L=Yn(K,v,!1,d)&&L}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],v=0;v<g.length;v++)pt(g[v]);delete l.g[d],l.h--}}this.F=null},at.prototype.K=function(l,d,g,v){return this.i.add(String(l),d,!1,g,v)},at.prototype.L=function(l,d,g,v){return this.i.add(String(l),d,!0,g,v)};function Yn(l,d,g,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,z=0;z<d.length;++z){var K=d[z];if(K&&!K.da&&K.capture==g){var Me=K.listener,ut=K.ha||K.src;K.fa&&Oi(l.i,K),L=Me.call(ut,v)!==!1&&L}}return L&&!v.defaultPrevented}function Ys(l,d,g){if(typeof l=="function")g&&(l=F(l,g));else if(l&&typeof l.handleEvent=="function")l=F(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function gr(l){l.g=Ys(()=>{l.g=null,l.i&&(l.i=!1,gr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Jr extends b{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(l){b.call(this),this.h=l,this.g={}}Y(Zr,b);var Xs=[];function Js(l){Ve(l.g,function(d,g){this.g.hasOwnProperty(g)&&Gn(d)},l),l.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),Js(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=m.JSON.stringify,eo=m.JSON.parse,to=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ei(){}ei.prototype.h=null;function Bi(l){return l.h||(l.h=l.i())}function ji(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){ae.call(this,"d")}Y(Nn,ae);function bi(){ae.call(this,"c")}Y(bi,ae);var xn={},no=null;function ti(){return no=no||new at}xn.La="serverreachability";function ro(l){ae.call(this,xn.La,l)}Y(ro,ae);function Xn(l){const d=ti();lt(d,new ro(d))}xn.STAT_EVENT="statevent";function io(l,d){ae.call(this,xn.STAT_EVENT,l),this.stat=d}Y(io,ae);function et(l){const d=ti();lt(d,new io(d,l))}xn.Ma="timingevent";function $i(l,d){ae.call(this,xn.Ma,l),this.size=d}Y($i,ae);function mn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function ri(l,d,g,v,L,z){l.info(function(){if(l.g)if(z)for(var K="",Me=z.split("&"),ut=0;ut<Me.length;ut++){var Ce=Me[ut].split("=");if(1<Ce.length){var mt=Ce[0];Ce=Ce[1];var rt=mt.split("_");K=2<=rt.length&&rt[1]=="type"?K+(mt+"="+Ce+"&"):K+(mt+"=redacted&")}}else K=null;else K=z;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+d+`
`+g+`
`+K})}function qi(l,d,g,v,L,z,K){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+d+`
`+g+`
`+z+" "+K})}function gn(l,d,g,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+fu(l,g)+(v?" "+v:"")})}function so(l,d){l.info(function(){return"TIMEOUT: "+d})}ni.prototype.info=function(){};function fu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return Zs(g)}catch{return d}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function ii(){}Y(ii,ei),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},yn=new ii;function _n(l,d,g,v){this.j=l,this.i=d,this.l=g,this.R=v||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new da}function da(){this.i=null,this.g="",this.h=!1}var oo={},Qi={};function Wi(l,d,g){l.L=1,l.v=wr(Yt(d)),l.m=g,l.P=!0,ao(l,null)}function ao(l,d){l.F=Date.now(),Be(l),l.A=Yt(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Ir(g.i,"t",v),l.C=0,g=l.j.J,l.h=new da,l.g=Da(l.j,g?d:null,!l.m),0<l.O&&(l.M=new Jr(F(l.Y,l,l.g),l.O)),d=l.U,g=l.g,v=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Xs[0]=L.toString()),L=Xs);for(var z=0;z<L.length;z++){var K=Qs(g,L[z],v||d.handleEvent,!1,d.h||d);if(!K)break;d.g[K.key]=K}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Xn(),ri(l.i,l.u,l.A,l.l,l.R,l.m)}_n.prototype.ca=function(l){l=l.target;const d=this.M;d&&jt(l)==3?d.j():this.Y(l)},_n.prototype.Y=function(l){try{if(l==this.g)e:{const rt=jt(this.g);var d=this.g.Ba();const an=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||po(this.g)))){this.J||rt!=4||d==7||(d==8||0>=an?Xn(3):Xn(2)),si(this);var g=this.g.Z();this.X=g;t:if(pa(this)){var v=po(this.g);l="";var L=v.length,z=jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),yr(this);var K="";break t}this.h.i=new m.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(z&&d==L-1)});v.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=g==200,qi(this.i,this.u,this.A,this.l,this.R,rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,ut=this.g;if((Me=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(Me)){var Ce=Me;break t}}Ce=null}if(g=Ce)gn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,g);else{this.o=!1,this.s=3,et(12),sn(this),yr(this);break e}}if(this.P){g=!0;let Jt;for(;!this.J&&this.C<K.length;)if(Jt=du(this,K),Jt==Qi){rt==4&&(this.s=4,et(14),g=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==oo){this.s=4,et(15),gn(this.i,this.l,K,"[Invalid Chunk]"),g=!1;break}else gn(this.i,this.l,Jt,null),lo(this,Jt);if(pa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||K.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)gn(this.i,this.l,K,"[Invalid Chunked Response]"),sn(this),yr(this);else if(0<K.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),go(mt),mt.M=!0,et(11))}}else gn(this.i,this.l,K,null),lo(this,K);rt==4&&sn(this),this.o&&!this.J&&(rt==4?is(this.j,this):(this.o=!1,Be(this)))}else Zi(this.g),g==400&&0<K.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),sn(this),yr(this)}}}catch{}finally{}};function pa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function du(l,d){var g=l.C,v=d.indexOf(`
`,g);return v==-1?Qi:(g=Number(d.substring(g,v)),isNaN(g)?oo:(v+=1,v+g>d.length?Qi:(d=d.slice(v,v+g),l.C=v+g,d)))}_n.prototype.cancel=function(){this.J=!0,sn(this)};function Be(l){l.S=Date.now()+l.I,ma(l,l.I)}function ma(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(F(l.ba,l),d)}function si(l){l.B&&(m.clearTimeout(l.B),l.B=null)}_n.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(so(this.i,this.A),this.L!=2&&(Xn(),et(17)),sn(this),this.s=2,yr(this)):ma(this,this.S-l)};function yr(l){l.j.G==0||l.J||is(l.j,l)}function sn(l){si(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Js(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function lo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Mt(g.h,l))){if(!l.K&&Mt(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)rs(g),In(g);else break e;ns(g),et(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=mn(F(g.Za,g),6e3));if(1>=ya(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else nr(g,11)}else if((l.K||g.g==l)&&rs(g),!ye(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Ce=L[d];if(g.T=Ce[0],Ce=Ce[1],g.G==2)if(Ce[0]=="c"){g.K=Ce[1],g.ia=Ce[2];const mt=Ce[3];mt!=null&&(g.la=mt,g.j.info("VER="+g.la));const rt=Ce[4];rt!=null&&(g.Aa=rt,g.j.info("SVER="+g.Aa));const an=Ce[5];an!=null&&typeof an=="number"&&0<an&&(v=1.5*an,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const Jt=l.g;if(Jt){const fi=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var z=v.h;z.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(uo(z,z.h),z.h=null))}if(v.D){const os=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;os&&(v.ya=os,Ue(v.I,v.D,os))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var K=l;if(v.qa=Va(v,v.J?v.ia:null,v.W),K.K){_a(v.h,K);var Me=K,ut=v.L;ut&&(Me.I=ut),Me.B&&(si(Me),Be(Me)),v.g=K}else hi(v);0<g.i.length&&Fn(g)}else Ce[0]!="stop"&&Ce[0]!="close"||nr(g,7);else g.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?nr(g,7):wt(g):Ce[0]!="noop"&&g.l&&g.l.ta(Ce),g.v=0)}}Xn(4)}catch{}}var ga=class{constructor(l,d){this.g=l,this.map=d}};function oi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ya(l){return l.h?1:l.g?l.g.size:0}function Mt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function uo(l,d){l.g?l.g.add(d):l.h=d}function _a(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}oi.prototype.cancel=function(){if(this.i=va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function va(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return X(l.i)}function Gi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,v=0;v<g;v++)d.push(l[v]);return d}d=[],g=0;for(v in l)d[g++]=l[v];return d}function Ki(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const v in l)d[g++]=v;return d}}}function _r(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Ki(l),v=Gi(l),L=v.length,z=0;z<L;z++)d.call(void 0,v[z],g&&g[z],l)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pu(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),L=null;if(0<=v){var z=l[g].substring(0,v);L=l[g].substring(v+1)}else z=l[g];d(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Jn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Jn){this.h=l.h,li(this,l.j),this.o=l.o,this.g=l.g,vr(this,l.s),this.l=l.l;var d=l.i,g=new Ln;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Er(this,g),this.m=l.m}else l&&(d=String(l).match(ai))?(this.h=!1,li(this,d[1]||"",!0),this.o=Se(d[2]||""),this.g=Se(d[3]||"",!0),vr(this,d[4]),this.l=Se(d[5]||"",!0),Er(this,d[6]||"",!0),this.m=Se(d[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}Jn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Tr(d,Yi,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Tr(d,Yi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Tr(g,g.charAt(0)=="/"?Ta:wa,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Tr(g,co)),l.join("")};function Yt(l){return new Jn(l)}function li(l,d,g){l.j=g?Se(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function vr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Er(l,d,g){d instanceof Ln?(l.i=d,On(l.i,l.h)):(g||(d=Tr(d,Ia)),l.i=new Ln(d,l.h))}function Ue(l,d,g){l.i.set(d,g)}function wr(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Se(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,Ea),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ea(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Yi=/[#\/\?@]/g,wa=/[#\?:]/g,Ta=/[#\?]/g,Ia=/[#\?@]/g,co=/#/g;function Ln(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Et(l){l.g||(l.g=new Map,l.h=0,l.i&&pu(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Ln.prototype,i.add=function(l,d){Et(this),this.i=null,l=on(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function vn(l,d){Et(l),d=on(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function En(l,d){return Et(l),d=on(l,d),l.g.has(d)}i.forEach=function(l,d){Et(this),this.g.forEach(function(g,v){g.forEach(function(L){l.call(d,L,v,this)},this)},this)},i.na=function(){Et(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let v=0;v<d.length;v++){const L=l[v];for(let z=0;z<L.length;z++)g.push(d[v])}return g},i.V=function(l){Et(this);let d=[];if(typeof l=="string")En(this,l)&&(d=d.concat(this.g.get(on(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return Et(this),this.i=null,l=on(this,l),En(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ir(l,d,g){vn(l,d),0<g.length&&(l.i=null,l.g.set(on(l,d),X(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var v=d[g];const z=encodeURIComponent(String(v)),K=this.V(v);for(v=0;v<K.length;v++){var L=z;K[v]!==""&&(L+="="+encodeURIComponent(String(K[v]))),l.push(L)}}return this.i=l.join("&")};function on(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function On(l,d){d&&!l.j&&(Et(l),l.i=null,l.g.forEach(function(g,v){var L=v.toLowerCase();v!=L&&(vn(this,v),Ir(this,L,g))},l)),l.j=d}function mu(l,d){const g=new ni;if(m.Image){const v=new Image;v.onload=B(Bt,g,"TestLoadImage: loaded",!0,d,v),v.onerror=B(Bt,g,"TestLoadImage: error",!1,d,v),v.onabort=B(Bt,g,"TestLoadImage: abort",!1,d,v),v.ontimeout=B(Bt,g,"TestLoadImage: timeout",!1,d,v),m.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function Sa(l,d){const g=new ni,v=new AbortController,L=setTimeout(()=>{v.abort(),Bt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(z=>{clearTimeout(L),z.ok?Bt(g,"TestPingServer: ok",!0,d):Bt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Bt(g,"TestPingServer: error",!1,d)})}function Bt(l,d,g,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(g)}catch{}}function gu(){this.g=new to}function Aa(l,d,g){const v=g||"";try{_r(l,function(L,z){let K=L;E(L)&&(K=Zs(L)),d.push(v+z+"="+encodeURIComponent(K))})}catch(L){throw d.push(v+"type="+encodeURIComponent("_badmap")),L}}function Zn(l){this.l=l.Ub||null,this.j=l.eb||!1}Y(Zn,ei),Zn.prototype.g=function(){return new ui(this.l,this.j)},Zn.prototype.i=function(l){return function(){return l}}({});function ui(l,d){at.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ui,at),i=ui.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ra(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ra(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?wn(this):Tn(this),this.readyState==3&&Ra(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,wn(this))},i.Qa=function(l){this.g&&(this.response=l,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function er(l){let d="";return Ve(l,function(g,v){d+=v,d+=":",d+=g,d+=`\r
`}),d}function Sr(l,d,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=er(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ue(l,d,g))}function Qe(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Qe,at);var yu=/^https?$/i,ho=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?Bi(this.o):Bi(yn),this.g.onreadystatechange=F(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){ci(this,z);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)g.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const z of v.keys())g.set(z,v.get(z));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ho,d,void 0))||v||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,K]of g)this.g.setRequestHeader(z,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ji(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){ci(this,z)}};function ci(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Xi(l),Xt(l)}function Xi(l){l.A||(l.A=!0,lt(l,"complete"),lt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),Xt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},i.bb=function(){fo(this)};function fo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||jt(l)!=4||l.Z()!=2)){if(l.u&&jt(l)==4)Ys(l.Ea,0,l);else if(lt(l,"readystatechange"),jt(l)==4){l.h=!1;try{const K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var v;if(v=K===0){var L=String(l.D).match(ai)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),v=!yu.test(L?L.toLowerCase():"")}g=v}if(g)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var z=2<jt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",Xi(l)}}finally{Xt(l)}}}}function Xt(l,d){if(l.g){Ji(l);const g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||lt(l,"ready");try{g.onreadystatechange=v}catch{}}}function Ji(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function jt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<jt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),eo(d)}};function po(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(l){const d={};l=(l.g&&2<=jt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(ye(l[v]))continue;var g=D(l[v]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=d[L]||[];d[L]=z,z.push(g)}V(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mn(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function mo(l){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mn("baseRetryDelayMs",5e3,l),this.cb=Mn("retryDelaySeedMs",1e4,l),this.Wa=Mn("forwardChannelMaxRetries",2,l),this.wa=Mn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(l&&l.concurrentRequestLimit),this.Da=new gu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=mo.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,v){et(0),this.W=l,this.H=d||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Va(this,null,this.W),Fn(this)};function wt(l){if(es(l),l.G==3){var d=l.U++,g=Yt(l.I);if(Ue(g,"SID",l.K),Ue(g,"RID",d),Ue(g,"TYPE","terminate"),tr(l,g),d=new _n(l,l.j,d),d.L=2,d.v=wr(Yt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Da(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Be(d)}ka(l)}function In(l){l.g&&(go(l),l.g.cancel(),l.g=null)}function es(l){In(l),l.u&&(m.clearTimeout(l.u),l.u=null),rs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Fn(l){if(!Kt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Fe||ee(),J||(Fe(),J=!0),ue.add(d,l),l.B=0}}function _u(l,d){return ya(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(F(l.Ga,l,d),Pa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new _n(this,this.j,l);let z=this.o;if(this.S&&(z?(z=I(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Ar(this,L,d),g=Yt(this.I),Ue(g,"RID",l),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),tr(this,g),z&&(this.O?d="headers="+encodeURIComponent(String(er(z)))+"&"+d:this.m&&Sr(g,this.m,z)),uo(this.h,L),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",d),Ue(g,"SID","null"),L.T=!0,Wi(L,g,null)):Wi(L,g,d),this.G=2}}else this.G==3&&(l?ts(this,l):this.i.length==0||Kt(this.h)||ts(this))};function ts(l,d){var g;d?g=d.l:g=l.U++;const v=Yt(l.I);Ue(v,"SID",l.K),Ue(v,"RID",g),Ue(v,"AID",l.T),tr(l,v),l.m&&l.o&&Sr(v,l.m,l.o),g=new _n(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Ar(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),uo(l.h,g),Wi(g,v,d)}function tr(l,d){l.H&&Ve(l.H,function(g,v){Ue(d,v,g)}),l.l&&_r({},function(g,v){Ue(d,v,g)})}function Ar(l,d,g){g=Math.min(l.i.length,g);var v=l.l?F(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const K=["count="+g];z==-1?0<g?(z=L[0].g,K.push("ofs="+z)):z=0:K.push("ofs="+z);let Me=!0;for(let ut=0;ut<g;ut++){let Ce=L[ut].g;const mt=L[ut].map;if(Ce-=z,0>Ce)z=Math.max(0,L[ut].g-100),Me=!1;else try{Aa(mt,K,"req"+Ce+"_")}catch{v&&v(mt)}}if(Me){v=K.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,v}function hi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Fe||ee(),J||(Fe(),J=!0),ue.add(d,l),l.v=0}}function ns(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(F(l.Fa,l),Pa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ca(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(F(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),In(this),Ca(this))};function go(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ca(l){l.g=new _n(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Yt(l.qa);Ue(d,"RID","rpc"),Ue(d,"SID",l.K),Ue(d,"AID",l.T),Ue(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(d,"TO",l.ja),Ue(d,"TYPE","xmlhttp"),tr(l,d),l.m&&l.o&&Sr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=wr(Yt(d)),g.m=null,g.P=!0,ao(g,l)}i.Za=function(){this.C!=null&&(this.C=null,In(this),ns(this),et(19))};function rs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function is(l,d){var g=null;if(l.g==d){rs(l),go(l),l.g=null;var v=2}else if(Mt(l.h,d))g=d.D,_a(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;v=ti(),lt(v,new $i(v,g)),Fn(l)}else hi(l);else if(L=d.s,L==3||L==0&&0<d.X||!(v==1&&_u(l,d)||v==2&&ns(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),L){case 1:nr(l,5);break;case 4:nr(l,10);break;case 3:nr(l,6);break;default:nr(l,2)}}}function Pa(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function nr(l,d){if(l.j.info("Error code "+d),d==2){var g=F(l.fb,l),v=l.Xa;const L=!v;v=new Jn(v||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||li(v,"https"),wr(v),L?mu(v.toString(),g):Sa(v.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(d),ka(l),es(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function ka(l){if(l.G=0,l.ka=[],l.l){const d=va(l.h);(d.length!=0||l.i.length!=0)&&(Q(l.ka,d),Q(l.ka,l.i),l.h.i.length=0,X(l.i),l.i.length=0),l.l.ra()}}function Va(l,d,g){var v=g instanceof Jn?Yt(g):new Jn(g);if(v.g!="")d&&(v.g=d+"."+v.g),vr(v,v.s);else{var L=m.location;v=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var z=new Jn(null);v&&li(z,v),d&&(z.g=d),L&&vr(z,L),g&&(z.l=g),v=z}return g=l.D,d=l.ya,g&&d&&Ue(v,g,d),Ue(v,"VER",l.la),tr(l,v),v}function Da(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new Zn({eb:g})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}i=yo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ss(){}ss.prototype.g=function(l,d){return new Ft(l,d)};function Ft(l,d){at.call(this),this.g=new mo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ye(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ye(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Un(this)}Y(Ft,at),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){wt(this.g)},Ft.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Zs(l),l=g);d.i.push(new ga(d.Ya++,l)),d.G==3&&Fn(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,wt(this.g),delete this.g,Ft.aa.N.call(this)};function Na(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}Y(Na,Nn);function xa(){bi.call(this),this.status=1}Y(xa,bi);function Un(l){this.g=l}Y(Un,yo),Un.prototype.ua=function(){lt(this.g,"a")},Un.prototype.ta=function(l){lt(this.g,new Na(l))},Un.prototype.sa=function(l){lt(this.g,new xa)},Un.prototype.ra=function(){lt(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Nm=function(){return new ss},Dm=function(){return ti()},Vm=xn,rh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,Nl=Hi,fa.COMPLETE="complete",km=fa,ji.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",at.prototype.listen=at.prototype.K,bo=ji,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Pm=Qe}).apply(typeof Cl<"u"?Cl:typeof self<"u"?self:typeof window<"u"?window:{});const Pp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new wm("@firebase/firestore");function Cs(){return Vi.logLevel}function te(i,...e){if(Vi.logLevel<=ke.DEBUG){const n=e.map(Th);Vi.debug(`Firestore (${js}): ${i}`,...n)}}function dr(i,...e){if(Vi.logLevel<=ke.ERROR){const n=e.map(Th);Vi.error(`Firestore (${js}): ${i}`,...n)}}function xs(i,...e){if(Vi.logLevel<=ke.WARN){const n=e.map(Th);Vi.warn(`Firestore (${js}): ${i}`,...n)}}function Th(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(i="Unexpected state"){const e=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+i;throw dr(e),new Error(e)}function Oe(i,e){i||de()}function me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class Wv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gv{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Oe(typeof s.accessToken=="string"),new xm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Lt(e)}}class Kv{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Yv{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Kv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new Xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Zv(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Ae(i,e){return i<e?-1:i>e?1:0}function Ls(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new ft(0,0))}static max(){return new pe(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(),s===void 0?s=e.length-n:s>e.length-n&&de(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Jo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends Jo{construct(e,n,s){return new He(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new re($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new He(n)}static emptyPath(){return new He([])}}const e0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Jo{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return e0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new re($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new re($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new re($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new re($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(He.fromString(e))}static fromName(e){return new le(He.fromString(e).popFirst(5))}static empty(){return new le(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new He(e.slice()))}}function t0(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=pe.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new Hr(a,le.empty(),e)}function n0(i){return new Hr(i.readTime,i.key,-1)}class Hr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(pe.min(),le.empty(),-1)}static max(){return new Hr(pe.max(),le.empty(),-1)}}function r0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(i.documentKey,e.documentKey),n!==0?n:Ae(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==i0)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,s)=>{n(e)})}static reject(e){return new j((n,s)=>{s(e)})}static waitFor(e){return new j((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next(a=>a?j.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new j((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const E=y;n(e[E]).next(w=>{f[E]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new j((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function o0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $s(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xl.oe=-1;function Jl(i){return i==null}function jl(i){return i===0&&1/i==-1/0}function a0(i){return typeof i=="number"&&Number.isInteger(i)&&!jl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=kp(e)),e=u0(i.get(n),e);return kp(e)}function u0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function kp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Di(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Om(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}}class Pl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??St.RED,this.left=a??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new St(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,s,a,c){return this}insert(e,n,s){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dp(this.data.getIterator())}getIteratorFrom(e){return new Dp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class Dp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new dt(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Mm("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const c0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(i){if(Oe(!!i),typeof i=="string"){let e=0;const n=c0.exec(i);if(Oe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wr(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zl(i){const e=i.mapValue.fields.__previous_value__;return Ih(e)?Zl(e):e}function Zo(i){const e=Qr(i.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,s,a,c,f,m,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=E}}class ea{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ih(i)?4:d0(i)?9007199254740991:f0(i)?10:11:de()}function Qn(i,e){if(i===e)return!0;const n=Gr(i);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zo(i).isEqual(Zo(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Qr(a.timestampValue),m=Qr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Wr(a.bytesValue).isEqual(Wr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=nt(a.doubleValue),m=nt(c.doubleValue);return f===m?jl(f)===jl(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ls(i.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Vp(f)!==Vp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Qn(f[y],m[y])))return!1;return!0}(i,e);default:return de()}}function ta(i,e){return(i.values||[]).find(n=>Qn(n,e))!==void 0}function Os(i,e){if(i===e)return 0;const n=Gr(i),s=Gr(e);if(n!==s)return Ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=nt(c.integerValue||c.doubleValue),y=nt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Np(i.timestampValue,e.timestampValue);case 4:return Np(Zo(i),Zo(e));case 5:return Ae(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Wr(c),y=Wr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let E=0;E<m.length&&E<y.length;E++){const w=Ae(m[E],y[E]);if(w!==0)return w}return Ae(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Ae(nt(c.latitude),nt(f.latitude));return m!==0?m:Ae(nt(c.longitude),nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return xp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,E,w;const C=c.fields||{},F=f.fields||{},B=(m=C.value)===null||m===void 0?void 0:m.arrayValue,Y=(y=F.value)===null||y===void 0?void 0:y.arrayValue,X=Ae(((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0,((w=Y==null?void 0:Y.values)===null||w===void 0?void 0:w.length)||0);return X!==0?X:xp(B,Y)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===kl.mapValue&&f===kl.mapValue)return 0;if(c===kl.mapValue)return 1;if(f===kl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),E=f.fields||{},w=Object.keys(E);y.sort(),w.sort();for(let C=0;C<y.length&&C<w.length;++C){const F=Ae(y[C],w[C]);if(F!==0)return F;const B=Os(m[y[C]],E[w[C]]);if(B!==0)return B}return Ae(y.length,w.length)}(i.mapValue,e.mapValue);default:throw de()}}function Np(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ae(i,e);const n=Qr(i),s=Qr(e),a=Ae(n.seconds,s.seconds);return a!==0?a:Ae(n.nanos,s.nanos)}function xp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Os(n[a],s[a]);if(c)return c}return Ae(n.length,s.length)}function Ms(i){return ih(i)}function ih(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Wr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return le.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=ih(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${ih(n.fields[f])}`;return a+"}"}(i.mapValue):de()}function xl(i){switch(Gr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zl(i);return e?16+xl(e):16;case 5:return 2*i.stringValue.length;case 6:return Wr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+xl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Di(s.fields,(c,f)=>{a+=c.length+xl(f)}),a}(i.mapValue);default:throw de()}}function Lp(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function sh(i){return!!i&&"integerValue"in i}function Sh(i){return!!i&&"arrayValue"in i}function Op(i){return!!i&&"nullValue"in i}function Mp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ll(i){return!!i&&"mapValue"in i}function f0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Di(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Qo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function d0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ll(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=At.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Qo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Ll(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ll(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Di(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new pn(Qo(this.value))}}function Fm(i){const e=[];return Di(i.fields,(n,s)=>{const a=new At([n]);if(Ll(s)){const c=Fm(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ot(e,0,pe.min(),pe.min(),pe.min(),pn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,pe.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,pe.min(),pe.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,pe.min(),pe.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.position=e,this.inclusive=n}}function Fp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=le.comparator(le.fromName(f.referenceValue),n.key):s=Os(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Up(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n="asc"){this.field=e,this.dir=n}}function p0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{}class ot extends Um{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new g0(e,n,s):n==="array-contains"?new v0(e,s):n==="in"?new E0(e,s):n==="not-in"?new w0(e,s):n==="array-contains-any"?new T0(e,s):new ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new y0(e,s):new _0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Os(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends Um{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dn(e,n)}matches(e){return zm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zm(i){return i.op==="and"}function Bm(i){return m0(i)&&zm(i)}function m0(i){for(const e of i.filters)if(e instanceof Dn)return!1;return!0}function oh(i){if(i instanceof ot)return i.field.canonicalString()+i.op.toString()+Ms(i.value);if(Bm(i))return i.filters.map(e=>oh(e)).join(",");{const e=i.filters.map(n=>oh(n)).join(",");return`${i.op}(${e})`}}function jm(i,e){return i instanceof ot?function(s,a){return a instanceof ot&&s.op===a.op&&s.field.isEqual(a.field)&&Qn(s.value,a.value)}(i,e):i instanceof Dn?function(s,a){return a instanceof Dn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&jm(f,a.filters[m]),!0):!1}(i,e):void de()}function bm(i){return i instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(i):i instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(bm).join(" ,")+"}"}(i):"Filter"}class g0 extends ot{constructor(e,n,s){super(e,n,s),this.key=le.fromName(s.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class y0 extends ot{constructor(e,n){super(e,"in",n),this.keys=$m("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _0 extends ot{constructor(e,n){super(e,"not-in",n),this.keys=$m("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $m(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>le.fromName(s.referenceValue))}class v0 extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sh(n)&&ta(n.arrayValue,this.value)}}class E0 extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}}class w0 extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ta(this.value.arrayValue,n)}}class T0 extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ta(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function zp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new I0(i,e,n,s,a,c,f)}function Ah(i){const e=me(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>oh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Jl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ms(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ms(s)).join(",")),e.ue=n}return e.ue}function Rh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!p0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!jm(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Up(i.startAt,e.startAt)&&Up(i.endAt,e.endAt)}function ah(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function S0(i,e,n,s,a,c,f,m){return new qs(i,e,n,s,a,c,f,m)}function Ch(i){return new qs(i)}function Bp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function qm(i){return i.collectionGroup!==null}function Wo(i){const e=me(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new dt(At.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(E=>{E.isInequality()&&(m=m.add(E.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new na(c,s))}),n.has(At.keyField().canonicalString())||e.ce.push(new na(At.keyField(),s))}return e.ce}function qn(i){const e=me(i);return e.le||(e.le=A0(e,Wo(i))),e.le}function A0(i,e){if(i.limitType==="F")return zp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new na(a.field,c)});const n=i.endAt?new bl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new bl(i.startAt.position,i.startAt.inclusive):null;return zp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function lh(i,e){const n=i.filters.concat([e]);return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function uh(i,e,n){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function eu(i,e){return Rh(qn(i),qn(e))&&i.limitType===e.limitType}function Hm(i){return`${Ah(qn(i))}|lt:${i.limitType}`}function Ps(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>bm(a)).join(", ")}]`),Jl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ms(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ms(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function tu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):le.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Wo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const E=Fp(f,m,y);return f.inclusive?E<=0:E<0}(s.startAt,Wo(s),a)||s.endAt&&!function(f,m,y){const E=Fp(f,m,y);return f.inclusive?E>=0:E>0}(s.endAt,Wo(s),a))}(i,e)}function R0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Qm(i){return(e,n)=>{let s=!1;for(const a of Wo(i)){const c=C0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function C0(i,e,n){const s=i.field.isKeyField()?le.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),E=m.data.field(c);return y!==null&&E!==null?Os(y,E):de()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Om(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Ye(le.comparator);function pr(){return P0}const Wm=new Ye(le.comparator);function $o(...i){let e=Wm;for(const n of i)e=e.insert(n.key,n);return e}function Gm(i){let e=Wm;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ri(){return Go()}function Km(){return Go()}function Go(){return new Ni(i=>i.toString(),(i,e)=>i.isEqual(e))}const k0=new Ye(le.comparator),V0=new dt(le.comparator);function Te(...i){let e=V0;for(const n of i)e=e.add(n);return e}const D0=new dt(Ae);function N0(){return D0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(e)?"-0":e}}function Ym(i){return{integerValue:""+i}}function x0(i,e){return a0(e)?Ym(e):Ph(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this._=void 0}}function L0(i,e,n){return i instanceof ra?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Ih(c)&&(c=Zl(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof ia?Jm(i,e):i instanceof sa?Zm(i,e):function(a,c){const f=Xm(a,c),m=jp(f)+jp(a.Pe);return sh(f)&&sh(a.Pe)?Ym(m):Ph(a.serializer,m)}(i,e)}function O0(i,e,n){return i instanceof ia?Jm(i,e):i instanceof sa?Zm(i,e):n}function Xm(i,e){return i instanceof $l?function(s){return sh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class ra extends nu{}class ia extends nu{constructor(e){super(),this.elements=e}}function Jm(i,e){const n=eg(e);for(const s of i.elements)n.some(a=>Qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class sa extends nu{constructor(e){super(),this.elements=e}}function Zm(i,e){let n=eg(e);for(const s of i.elements)n=n.filter(a=>!Qn(a,s));return{arrayValue:{values:n}}}class $l extends nu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function jp(i){return nt(i.integerValue||i.doubleValue)}function eg(i){return Sh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n){this.field=e,this.transform=n}}function F0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ia&&a instanceof ia||s instanceof sa&&a instanceof sa?Ls(s.elements,a.elements,Qn):s instanceof $l&&a instanceof $l?Qn(s.Pe,a.Pe):s instanceof ra&&a instanceof ra}(i.transform,e.transform)}class U0{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ol(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ru{}function tg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new rg(i.key,hr.none()):new aa(i.key,i.data,hr.none());{const n=i.data,s=pn.empty();let a=new dt(At.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new xi(i.key,s,new Vn(a.toArray()),hr.none())}}function z0(i,e,n){i instanceof aa?function(a,c,f){const m=a.value.clone(),y=$p(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof xi?function(a,c,f){if(!Ol(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=$p(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(ng(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ko(i,e,n,s){return i instanceof aa?function(c,f,m,y){if(!Ol(c.precondition,f))return m;const E=c.value.clone(),w=qp(c.fieldTransforms,y,f);return E.setAll(w),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof xi?function(c,f,m,y){if(!Ol(c.precondition,f))return m;const E=qp(c.fieldTransforms,y,f),w=f.data;return w.setAll(ng(c)),w.setAll(E),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(i,e,n,s):function(c,f,m){return Ol(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function B0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Xm(s.transform,a||null);c!=null&&(n===null&&(n=pn.empty()),n.set(s.field,c))}return n||null}function bp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ls(s,a,(c,f)=>F0(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class aa extends ru{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class xi extends ru{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ng(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function $p(i,e,n){const s=new Map;Oe(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,O0(f,m,n[a]))}return s}function qp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,L0(c,f,e))}return s}class rg extends ru{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j0 extends ru{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&z0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Km();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=tg(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(pe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(n,s)=>bp(n,s))&&Ls(this.baseMutations,e.baseMutations,(n,s)=>bp(n,s))}}class kh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Oe(e.mutations.length===s.length);let a=function(){return k0}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new kh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Pe;function H0(i){switch(i){default:return de();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function ig(i){if(i===void 0)return dr("GRPC error has no .code"),$.UNKNOWN;switch(i){case st.OK:return $.OK;case st.CANCELLED:return $.CANCELLED;case st.UNKNOWN:return $.UNKNOWN;case st.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case st.INTERNAL:return $.INTERNAL;case st.UNAVAILABLE:return $.UNAVAILABLE;case st.UNAUTHENTICATED:return $.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case st.NOT_FOUND:return $.NOT_FOUND;case st.ALREADY_EXISTS:return $.ALREADY_EXISTS;case st.PERMISSION_DENIED:return $.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case st.ABORTED:return $.ABORTED;case st.OUT_OF_RANGE:return $.OUT_OF_RANGE;case st.UNIMPLEMENTED:return $.UNIMPLEMENTED;case st.DATA_LOSS:return $.DATA_LOSS;default:return de()}}(Pe=st||(st={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Ci([4294967295,4294967295],0);function Hp(i){const e=Q0().encode(i),n=new Cm;return n.update(e),new Uint8Array(n.digest())}function Qp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ci([n,s],0),new Ci([a,c],0)]}class Vh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(s<0)throw new qo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ci.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Ci.fromNumber(s)));return a.compare(W0)===1&&(a=new Ci([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Hp(e),[s,a]=Qp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Vh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Hp(e),[s,a]=Qp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,la.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new iu(pe.min(),a,new Ye(Ae),pr(),Te())}}class la{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new la(s,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class sg{constructor(e,n){this.targetId=e,this.me=n}}class og{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Wp{constructor(){this.fe=0,this.ge=Gp(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),s=Te();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:de()}}),new la(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Gp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class G0{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=Vl(),this.Qe=Vl(),this.Ke=new Ye(Ae)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(ah(c))if(s===0){const f=new le(c.path);this.We(n,f,Ot.newNoDocument(f,pe.min()))}else Oe(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,E)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Wr(s).toUint8Array()}catch(y){if(y instanceof Mm)return xs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Vh(f,a,c)}catch(y){return xs(y instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&ah(m.target)){const y=new le(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Ot.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Te();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const E=this.Ye(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new iu(e,n,this.Ke,this.ke,s);return this.ke=pr(),this.qe=Vl(),this.Qe=Vl(),this.Ke=new Ye(Ae),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Wp,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new dt(Ae),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Ae),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Wp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Vl(){return new Ye(le.comparator)}function Gp(){return new Ye(le.comparator)}const K0={asc:"ASCENDING",desc:"DESCENDING"},Y0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X0={and:"AND",or:"OR"};class J0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ch(i,e){return i.useProto3Json||Jl(e)?e:{value:e}}function ql(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ag(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Z0(i,e){return ql(i,e.toTimestamp())}function Hn(i){return Oe(!!i),pe.fromTimestamp(function(n){const s=Qr(n);return new ft(s.seconds,s.nanos)}(i))}function Dh(i,e){return hh(i,e).canonicalString()}function hh(i,e){const n=function(a){return new He(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function lg(i){const e=He.fromString(i);return Oe(dg(e)),e}function fh(i,e){return Dh(i.databaseId,e.path)}function Wc(i,e){const n=lg(e);if(n.get(1)!==i.databaseId.projectId)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new le(cg(n))}function ug(i,e){return Dh(i.databaseId,e)}function eE(i){const e=lg(i);return e.length===4?He.emptyPath():cg(e)}function dh(i){return new He(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cg(i){return Oe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Kp(i,e,n){return{name:fh(i,e),fields:n.value.mapValue.fields}}function tE(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,w){return E.useProto3Json?(Oe(w===void 0||typeof w=="string"),Rt.fromBase64String(w||"")):(Oe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Rt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const w=E.code===void 0?$.UNKNOWN:ig(E.code);return new re(w,E.message||"")}(f);n=new og(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Wc(i,s.document.name),c=Hn(s.document.updateTime),f=s.document.createTime?Hn(s.document.createTime):pe.min(),m=new pn({mapValue:{fields:s.document.fields}}),y=Ot.newFoundDocument(a,c,f,m),E=s.targetIds||[],w=s.removedTargetIds||[];n=new Ml(E,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Wc(i,s.document),c=s.readTime?Hn(s.readTime):pe.min(),f=Ot.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Ml([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Wc(i,s.document),c=s.removedTargetIds||[];n=new Ml([],c,a,null)}else{if(!("filter"in e))return de();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new q0(a,c),m=s.targetId;n=new sg(m,f)}}return n}function nE(i,e){let n;if(e instanceof aa)n={update:Kp(i,e.key,e.value)};else if(e instanceof rg)n={delete:fh(i,e.key)};else if(e instanceof xi)n={update:Kp(i,e.key,e.data),updateMask:hE(e.fieldMask)};else{if(!(e instanceof j0))return de();n={verify:fh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof ra)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ia)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof sa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw de()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:Z0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de()}(i,e.precondition)),n}function rE(i,e){return i&&i.length>0?(Oe(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Hn(a.updateTime):Hn(c);return f.isEqual(pe.min())&&(f=Hn(c)),new U0(f,a.transformResults||[])}(n,e))):[]}function iE(i,e){return{documents:[ug(i,e.path)]}}function sE(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ug(i,a);const c=function(E){if(E.length!==0)return fg(Dn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(w=>function(F){return{field:ks(F.field),direction:lE(F.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ch(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:n,parent:a}}function oE(i){let e=eE(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Oe(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(C){const F=hg(C);return F instanceof Dn&&Bm(F)?F.getFilters():[F]}(n.where));let f=[];n.orderBy&&(f=function(C){return C.map(F=>function(Y){return new na(Vs(Y.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(F))}(n.orderBy));let m=null;n.limit&&(m=function(C){let F;return F=typeof C=="object"?C.value:C,Jl(F)?null:F}(n.limit));let y=null;n.startAt&&(y=function(C){const F=!!C.before,B=C.values||[];return new bl(B,F)}(n.startAt));let E=null;return n.endAt&&(E=function(C){const F=!C.before,B=C.values||[];return new bl(B,F)}(n.endAt)),S0(e,a,f,c,m,"F",y,E)}function aE(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Vs(n.unaryFilter.field);return ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Vs(n.unaryFilter.field);return ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vs(n.unaryFilter.field);return ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vs(n.unaryFilter.field);return ot.create(f,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(i):i.fieldFilter!==void 0?function(n){return ot.create(Vs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(s=>hg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(i):de()}function lE(i){return K0[i]}function uE(i){return Y0[i]}function cE(i){return X0[i]}function ks(i){return{fieldPath:i.canonicalString()}}function Vs(i){return At.fromServerFormat(i.fieldPath)}function fg(i){return i instanceof ot?function(n){if(n.op==="=="){if(Mp(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NAN"}};if(Op(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mp(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NAN"}};if(Op(n.value))return{unaryFilter:{field:ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(n.field),op:uE(n.op),value:n.value}}}(i):i instanceof Dn?function(n){const s=n.getFilters().map(a=>fg(a));return s.length===1?s[0]:{compositeFilter:{op:cE(n.op),filters:s}}}(i):de()}function hE(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,a,c=pe.min(),f=pe.min(),m=Rt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.ht=e}}function dE(i){const e=oE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.ln=new mE}addToCollectionParentIndex(e,n){return this.ln.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Hr.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class mE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new dt(He.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new dt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Fs(0)}static Qn(){return new Fs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp([i,e],[n,s]){const a=Ae(i,n);return a===0?Ae(e,s):a}class gE{constructor(e){this.Gn=e,this.buffer=new dt(Xp),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Xp(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$s(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await bs(n)}await this.Yn(3e5)})}}class _E{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Xl.oe);const s=new gE(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Yp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yp):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,E;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,f=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(s=C,m=Date.now(),this.removeTargets(e,s,n))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(E=Date.now(),Cs()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${C} documents in `+(E-y)+`ms
Total Duration: ${E-w}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C})))}}function vE(i,e){return new _E(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Ko(s.mutation,a,Vn.empty(),ft.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Te()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Te()){const a=Ri();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=$o();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ri();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Te()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=pr();const f=Go(),m=function(){return Go()}();return n.forEach((y,E)=>{const w=s.get(E.key);a.has(E.key)&&(w===void 0||w.mutation instanceof xi)?c=c.insert(E.key,E):w!==void 0?(f.set(E.key,w.mutation.getFieldMask()),Ko(w.mutation,E,w.mutation.getFieldMask(),ft.now())):f.set(E.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((E,w)=>f.set(E,w)),n.forEach((E,w)=>{var C;return m.set(E,new wE(w,(C=f.get(E))!==null&&C!==void 0?C:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Go();let a=new Ye((f,m)=>f-m),c=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const E=n.get(y);if(E===null)return;let w=s.get(y)||Vn.empty();w=m.applyToLocalView(E,w),s.set(y,w);const C=(a.get(m.batchId)||Te()).add(y);a=a.insert(m.batchId,C)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),E=y.key,w=y.value,C=Km();w.forEach(F=>{if(!c.has(F)){const B=tg(n.get(F),s.get(F));B!==null&&C.set(F,B),c=c.add(F)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,C))}return j.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return le.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qm(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):j.resolve(Ri());let m=-1,y=c;return f.next(E=>j.forEach(E,(w,C)=>(m<C.largestBatchId&&(m=C.largestBatchId),c.get(w)?j.resolve():this.remoteDocumentCache.getEntry(e,w).next(F=>{y=y.insert(w,F)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,y,E,Te())).next(w=>({batchId:m,changes:Gm(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(s=>{let a=$o();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=$o();return this.indexManager.getCollectionParents(e,c).next(m=>j.forEach(m,y=>{const E=function(C,F){return new qs(F,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(w=>{w.forEach((C,F)=>{f=f.insert(C,F)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,E)=>{const w=E.getKey();f.get(w)===null&&(f=f.insert(w,Ot.newInvalidDocument(w)))});let m=$o();return f.forEach((y,E)=>{const w=c.get(y);w!==void 0&&Ko(w.mutation,E,Vn.empty(),ft.now()),tu(n,E)&&(m=m.insert(y,E))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return j.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Hn(a.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:dE(a.bundledQuery),readTime:Hn(a.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.overlays=new Ye(le.comparator),this.Er=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ri();return j.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),j.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const a=Ri(),c=n.length+1,f=new le(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return j.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ye((E,w)=>E-w);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let w=c.get(E.largestBatchId);w===null&&(w=Ri(),c=c.insert(E.largestBatchId,w)),w.set(E.getKey(),E)}}const m=Ri(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,w)=>m.set(E,w)),!(m.size()>=a)););return j.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $0(n,s));let c=this.Er.get(n);c===void 0&&(c=Te(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.dr=new dt(vt.Ar),this.Rr=new dt(vt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new vt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new vt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new le(new He([])),s=new vt(n,e),a=new vt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new le(new He([])),s=new vt(n,e),a=new vt(n,e+1);let c=Te();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new vt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return le.comparator(e.key,n.key)||Ae(e.br,n.br)}static Vr(e,n){return Ae(e.br,n.br)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new dt(vt.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new b0(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new vt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return j.resolve(f)}lookupMutationBatch(e,n){return j.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vt(n,0),a=new vt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new dt(Ae);return n.forEach(a=>{const c=new vt(a,0),f=new vt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),j.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;le.isDocumentKey(c)||(c=c.child(""));const f=new vt(new le(c),0);let m=new dt(Ae);return this.vr.forEachWhile(y=>{const E=y.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(m=m.add(y.br)),!0)},f),j.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Oe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return j.forEach(n.mutations,a=>{const c=new vt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new vt(n,0),a=this.vr.firstAfterOrEqual(s);return j.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.Nr=e,this.docs=function(){return new Ye(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=pr();const f=n.path,m=new le(f.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:E,value:{document:w}}=y.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||r0(n0(w),s)<=0||(a.has(w.key)||tu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(e,n,s,a){de()}Lr(e,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new PE(this)}getSize(e){return j.resolve(this.size)}}class PE extends EE{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),j.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.persistence=e,this.Br=new Ni(n=>Ah(n),Rh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Nh,this.targetCount=0,this.Qr=Fs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),j.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Un(n),j.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),j.waitFor(c).next(()=>a)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),j.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),j.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Xl(0),this.Ur=!1,this.Ur=!0,this.Wr=new AE,this.referenceDelegate=e(this),this.Gr=new kE(this),this.indexManager=new pE,this.remoteDocumentCache=function(a){return new CE(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new fE(n),this.jr=new IE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new RE(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new VE(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return j.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class VE extends s0{constructor(e){super(),this.currentSequenceNumber=e}}class xh{constructor(e){this.persistence=e,this.Zr=new Nh,this.Xr=null}static ei(e){return new xh(e)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),j.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,s=>{const a=le.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return j.or([()=>j.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Hl{constructor(e,n){this.persistence=e,this.ri=new Ni(s=>l0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=vE(this,n)}static ei(e,n){return new Hl(e,n)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return j.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?j.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,pe.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),j.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xl(e.data.value)),n}ir(e,n,s){return j.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return j.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Te(),a=Te();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Lh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return V_()?8:o0(P_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new DE;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Cs()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(Cs()<=ke.DEBUG&&te("QueryEngine","Query:",Ps(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Cs()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):j.resolve())}Xi(e,n){if(Bp(n))return j.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=uh(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Te(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const E=this.rs(n,m);return this.ss(n,E,f,y.readTime)?this.Xi(e,uh(n,null,"F")):this.os(e,E,n,y)}))})))}es(e,n,s,a){return Bp(n)||a.isEqual(pe.min())?j.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?j.resolve(null):(Cs()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ps(n)),this.os(e,f,n,t0(a,-1)).next(m=>m))})}rs(e,n){let s=new dt(Qm(e));return n.forEach((a,c)=>{tu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Cs()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ps(n)),this.Zi.getDocumentsMatchingQuery(e,n,Hr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ye(Ae),this.cs=new Ni(c=>Ah(c),Rh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function LE(i,e,n,s){return new xE(i,e,n,s)}async function mg(i,e){const n=me(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Te();for(const E of a){f.push(E.batchId);for(const w of E.mutations)y=y.add(w.key)}for(const E of c){m.push(E.batchId);for(const w of E.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(E=>({Ts:E,removedBatchIds:f,addedBatchIds:m}))})})}function OE(i,e){const n=me(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,E,w){const C=E.batch,F=C.keys();let B=j.resolve();return F.forEach(Y=>{B=B.next(()=>w.getEntry(y,Y)).next(X=>{const Q=E.docVersions.get(Y);Oe(Q!==null),X.version.compareTo(Q)<0&&(C.applyToRemoteDocument(X,E),X.isValidDocument()&&(X.setReadTime(E.commitVersion),w.addEntry(X)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(y,C))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Te();for(let E=0;E<m.mutationResults.length;++E)m.mutationResults[E].transformResults.length>0&&(y=y.add(m.batch.mutations[E].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function gg(i){const e=me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function ME(i,e){const n=me(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,C)=>{const F=a.get(C);if(!F)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,C).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,C)));let B=F.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?B=B.withResumeToken(Rt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):w.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(w.resumeToken,s)),a=a.insert(C,B),function(X,Q,ge){return X.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0}(F,B,w)&&m.push(n.Gr.updateTargetData(c,B))});let y=pr(),E=Te();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(FE(c,f,e.documentUpdates).next(w=>{y=w.Is,E=w.Es})),!s.isEqual(pe.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(C=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return j.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,E)).next(()=>y)}).then(c=>(n.us=a,c))}function FE(i,e,n){let s=Te(),a=Te();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=pr();return n.forEach((m,y)=>{const E=c.get(m);y.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(pe.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",y.version)}),{Is:f,Es:a}})}function UE(i,e){const n=me(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function zE(i,e){const n=me(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,j.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function ph(i,e,n){const s=me(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!$s(f))throw f;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Jp(i,e,n){const s=me(i);let a=pe.min(),c=Te();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,E,w){const C=me(y),F=C.cs.get(w);return F!==void 0?j.resolve(C.us.get(F)):C.Gr.getTargetData(E,w)}(s,f,qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:pe.min(),n?c:Te())).next(m=>(BE(s,R0(e),m),{documents:m,ds:c})))}function BE(i,e,n){let s=i.ls.get(e)||pe.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Zp{constructor(){this.activeTargetIds=N0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jE{constructor(){this._o=new Zp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Zp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl=null;function Gc(){return Dl===null?Dl=function(){return 268435456+Math.round(2147483648*Math.random())}():Dl++,"0x"+Dl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class HE extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Gc(),y=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,f),this.Bo(n,y,E,a).then(w=>(te("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw xs("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=$E[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=Gc();return new Promise((f,m)=>{const y=new Pm;y.setWithCredentials(!0),y.listenOnce(km.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Nl.NO_ERROR:const w=y.getResponseJson();te(xt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Nl.TIMEOUT:te(xt,`RPC '${e}' ${c} timed out`),m(new re($.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const C=y.getStatus();if(te(xt,`RPC '${e}' ${c} failed with status:`,C,"response text:",y.getResponseText()),C>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F==null?void 0:F.error;if(B&&B.status&&B.message){const Y=function(Q){const ge=Q.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ge)>=0?ge:$.UNKNOWN}(B.status);m(new re(Y,B.message))}else m(new re($.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new re($.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{te(xt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(a);te(xt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",E,s,15)})}qo(e,n,s){const a=Gc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Nm(),m=Dm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Lo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");te(xt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const C=f.createWebChannel(w,y);let F=!1,B=!1;const Y=new qE({Eo:Q=>{B?te(xt,`Not sending because RPC '${e}' stream ${a} is closed:`,Q):(F||(te(xt,`Opening RPC '${e}' stream ${a} transport.`),C.open(),F=!0),te(xt,`RPC '${e}' stream ${a} sending:`,Q),C.send(Q))},Ao:()=>C.close()}),X=(Q,ge,ye)=>{Q.listen(ge,_e=>{try{ye(_e)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return X(C,bo.EventType.OPEN,()=>{B||(te(xt,`RPC '${e}' stream ${a} transport opened.`),Y.So())}),X(C,bo.EventType.CLOSE,()=>{B||(B=!0,te(xt,`RPC '${e}' stream ${a} transport closed`),Y.Do())}),X(C,bo.EventType.ERROR,Q=>{B||(B=!0,xs(xt,`RPC '${e}' stream ${a} transport errored:`,Q),Y.Do(new re($.UNAVAILABLE,"The operation could not be completed")))}),X(C,bo.EventType.MESSAGE,Q=>{var ge;if(!B){const ye=Q.data[0];Oe(!!ye);const _e=ye,Ie=(_e==null?void 0:_e.error)||((ge=_e[0])===null||ge===void 0?void 0:ge.error);if(Ie){te(xt,`RPC '${e}' stream ${a} received error:`,Ie);const Je=Ie.status;let Ve=function(A){const k=st[A];if(k!==void 0)return ig(k)}(Je),V=Ie.message;Ve===void 0&&(Ve=$.INTERNAL,V="Unknown error status: "+Je+" with message "+Ie.message),B=!0,Y.Do(new re(Ve,V)),C.close()}else te(xt,`RPC '${e}' stream ${a} received:`,ye),Y.vo(ye)}}),X(m,Vm.STAT_EVENT,Q=>{Q.stat===rh.PROXY?te(xt,`RPC '${e}' stream ${a} detected buffering proxy`):Q.stat===rh.NOPROXY&&te(xt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Y.bo()},0),Y}}function Kc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){return new J0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new yg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new re($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QE extends _g{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=tE(this.serializer,e),s=function(c){if(!("targetChange"in c))return pe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?pe.min():f.readTime?Hn(f.readTime):pe.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=dh(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=ah(y)?{documents:iE(c,y)}:{query:sE(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ag(c,f.resumeToken);const E=ch(c,f.expectedCount);E!==null&&(m.expectedCount=E)}else if(f.snapshotVersion.compareTo(pe.min())>0){m.readTime=ql(c,f.snapshotVersion.toTimestamp());const E=ch(c,f.expectedCount);E!==null&&(m.expectedCount=E)}return m}(this.serializer,e);const s=aE(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=dh(this.serializer),n.removeTarget=e,this.c_(n)}}class WE extends _g{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=rE(e.writeResults,e.commitTime),s=Hn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=dh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>nE(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,hh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re($.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,hh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new re($.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class KE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(dr(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Li(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(y){const E=me(y);E.k_.add(4),await ua(E),E.K_.set("Unknown"),E.k_.delete(4),await ou(E)}(this))})}),this.K_=new KE(s,a)}}async function ou(i){if(Li(i))for(const e of i.q_)await e(!0)}async function ua(i){for(const e of i.q_)await e(!1)}function vg(i,e){const n=me(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Uh(n)?Fh(n):Hs(n).s_()&&Mh(n,e))}function Oh(i,e){const n=me(i),s=Hs(n);n.B_.delete(e),s.s_()&&Eg(n,e),n.B_.size===0&&(s.s_()?s.a_():Li(n)&&n.K_.set("Unknown"))}function Mh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hs(i).V_(e)}function Eg(i,e){i.U_.xe(e),Hs(i).m_(e)}function Fh(i){i.U_=new G0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Hs(i).start(),i.K_.F_()}function Uh(i){return Li(i)&&!Hs(i).i_()&&i.B_.size>0}function Li(i){return me(i).k_.size===0}function wg(i){i.U_=void 0}async function XE(i){i.K_.set("Online")}async function JE(i){i.B_.forEach((e,n)=>{Mh(i,e)})}async function ZE(i,e){wg(i),Uh(i)?(i.K_.O_(e),Fh(i)):i.K_.set("Unknown")}async function ew(i,e,n){if(i.K_.set("Online"),e instanceof og&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ql(i,s)}else if(e instanceof Ml?i.U_.$e(e):e instanceof sg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(pe.min()))try{const s=await gg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.B_.get(E);w&&c.B_.set(E,w.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,E)=>{const w=c.B_.get(y);if(!w)return;c.B_.set(y,w.withResumeToken(Rt.EMPTY_BYTE_STRING,w.snapshotVersion)),Eg(c,y);const C=new Br(w.target,y,E,w.sequenceNumber);Mh(c,C)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await Ql(i,s)}}async function Ql(i,e,n){if(!$s(e))throw e;i.k_.add(1),await ua(i),i.K_.set("Offline"),n||(n=()=>gg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await ou(i)})}function Tg(i,e){return e().catch(n=>Ql(i,n,e))}async function au(i){const e=me(i),n=Kr(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;tw(e);)try{const a=await UE(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,nw(e,a)}catch(a){await Ql(e,a)}Ig(e)&&Sg(e)}function tw(i){return Li(i)&&i.L_.length<10}function nw(i,e){i.L_.push(e);const n=Kr(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Ig(i){return Li(i)&&!Kr(i).i_()&&i.L_.length>0}function Sg(i){Kr(i).start()}async function rw(i){Kr(i).w_()}async function iw(i){const e=Kr(i);for(const n of i.L_)e.g_(n.mutations)}async function sw(i,e,n){const s=i.L_.shift(),a=kh.from(s,e,n);await Tg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await au(i)}async function ow(i,e){e&&Kr(i).f_&&await async function(s,a){if(function(f){return H0(f)&&f!==$.ABORTED}(a.code)){const c=s.L_.shift();Kr(s).__(),await Tg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await au(s)}}(i,e),Ig(i)&&Sg(i)}async function tm(i,e){const n=me(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=Li(n);n.k_.add(3),await ua(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ou(n)}async function aw(i,e){const n=me(i);e?(n.k_.delete(2),await ou(n)):e||(n.k_.add(2),await ua(n),n.K_.set("Unknown"))}function Hs(i){return i.W_||(i.W_=function(n,s,a){const c=me(n);return c.b_(),new QE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:XE.bind(null,i),mo:JE.bind(null,i),po:ZE.bind(null,i),R_:ew.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Uh(i)?Fh(i):i.K_.set("Unknown")):(await i.W_.stop(),wg(i))})),i.W_}function Kr(i){return i.G_||(i.G_=function(n,s,a){const c=me(n);return c.b_(),new WE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:rw.bind(null,i),po:ow.bind(null,i),p_:iw.bind(null,i),y_:sw.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await au(i)):(await i.G_.stop(),i.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new zh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bh(i,e){if(dr("AsyncQueue",`${e}: ${i}`),$s(i))return new re($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{static emptySet(e){return new Ns(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||le.comparator(n.key,s.key):(n,s)=>le.comparator(n.key,s.key),this.keyedMap=$o(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ns)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ns;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.z_=new Ye(le.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):de():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Us{constructor(e,n,s,a,c,f,m,y,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Us(e,n,Ns.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class uw{constructor(){this.queries=rm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=me(n),c=a.queries;a.queries=rm(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new re($.ABORTED,"Firestore shutting down"))}}function rm(){return new Ni(i=>Hm(i),eu)}async function Ag(i,e){const n=me(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new lw,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Bh(f,`Initialization of query '${Ps(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&jh(n)}async function Rg(i,e){const n=me(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cw(i,e){const n=me(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&jh(n)}function hw(i,e,n){const s=me(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function jh(i){i.X_.forEach(e=>{e.next()})}var mh,im;(im=mh||(mh={})).na="default",im.Cache="cache";class Cg{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Us(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==mh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this.key=e}}class kg{constructor(e){this.key=e}}class fw{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Te(),this.mutatedKeys=Te(),this.Va=Qm(e),this.ma=new Ns(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new nm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,C)=>{const F=a.get(w),B=tu(this.query,C)?C:null,Y=!!F&&this.mutatedKeys.has(F.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Q=!1;F&&B?F.data.isEqual(B.data)?Y!==X&&(s.track({type:3,doc:B}),Q=!0):this.ya(F,B)||(s.track({type:2,doc:B}),Q=!0,(y&&this.Va(B,y)>0||E&&this.Va(B,E)<0)&&(m=!0)):!F&&B?(s.track({type:0,doc:B}),Q=!0):F&&!B&&(s.track({type:1,doc:F}),Q=!0,(y||E)&&(m=!0)),Q&&(B?(f=f.add(B),c=X?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,C)=>function(B,Y){const X=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return X(B)-X(Y)}(w.type,C.type)||this.Va(w.doc,C.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,E=y!==this.Aa;return this.Aa=y,f.length!==0||E?{snapshot:new Us(this.query,e.ma,c,f,e.mutatedKeys,y===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new nm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Te(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new kg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Pg(s))}),n}va(e){this.da=e.ds,this.Ra=Te();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Us.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class dw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class pw{constructor(e){this.key=e,this.Fa=!1}}class mw{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Ni(m=>Hm(m),eu),this.Oa=new Map,this.Na=new Set,this.La=new Ye(le.comparator),this.Ba=new Map,this.ka=new Nh,this.qa={},this.Qa=new Map,this.Ka=Fs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function gw(i,e,n=!0){const s=Og(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Vg(s,e,n,!0),a}async function yw(i,e){const n=Og(i);await Vg(n,e,!0,!1)}async function Vg(i,e,n,s){const a=await zE(i.localStore,qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await _w(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&vg(i.remoteStore,a),m}async function _w(i,e,n,s,a){i.Ua=(C,F,B)=>async function(X,Q,ge,ye){let _e=Q.view.ga(ge);_e.ss&&(_e=await Jp(X.localStore,Q.query,!1).then(({documents:V})=>Q.view.ga(V,_e)));const Ie=ye&&ye.targetChanges.get(Q.targetId),Je=ye&&ye.targetMismatches.get(Q.targetId)!=null,Ve=Q.view.applyChanges(_e,X.isPrimaryClient,Ie,Je);return om(X,Q.targetId,Ve.ba),Ve.snapshot}(i,C,F,B);const c=await Jp(i.localStore,e,!0),f=new fw(e,c.ds),m=f.ga(c.documents),y=la.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=f.applyChanges(m,i.isPrimaryClient,y);om(i,n,E.ba);const w=new dw(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),E.snapshot}async function vw(i,e,n){const s=me(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!eu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ph(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Oh(s.remoteStore,a.targetId),gh(s,a.targetId)}).catch(bs)):(gh(s,a.targetId),await ph(s.localStore,a.targetId,!0))}async function Ew(i,e){const n=me(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Oh(n.remoteStore,s.targetId))}async function ww(i,e,n){const s=Pw(i);try{const a=await function(f,m){const y=me(f),E=ft.now(),w=m.reduce((B,Y)=>B.add(Y.key),Te());let C,F;return y.persistence.runTransaction("Locally write mutations","readwrite",B=>{let Y=pr(),X=Te();return y.hs.getEntries(B,w).next(Q=>{Y=Q,Y.forEach((ge,ye)=>{ye.isValidDocument()||(X=X.add(ge))})}).next(()=>y.localDocuments.getOverlayedDocuments(B,Y)).next(Q=>{C=Q;const ge=[];for(const ye of m){const _e=B0(ye,C.get(ye.key).overlayedDocument);_e!=null&&ge.push(new xi(ye.key,_e,Fm(_e.value.mapValue),hr.exists(!0)))}return y.mutationQueue.addMutationBatch(B,E,ge,m)}).next(Q=>{F=Q;const ge=Q.applyToLocalDocumentSet(C,X);return y.documentOverlayCache.saveOverlays(B,Q.batchId,ge)})}).then(()=>({batchId:F.batchId,changes:Gm(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,y){let E=f.qa[f.currentUser.toKey()];E||(E=new Ye(Ae)),E=E.insert(m,y),f.qa[f.currentUser.toKey()]=E}(s,a.batchId,n),await ca(s,a.changes),await au(s.remoteStore)}catch(a){const c=Bh(a,"Failed to persist write");n.reject(c)}}async function Dg(i,e){const n=me(i);try{const s=await ME(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Oe(f.Fa):a.removedDocuments.size>0&&(Oe(f.Fa),f.Fa=!1))}),await ca(n,s,e)}catch(s){await bs(s)}}function sm(i,e,n){const s=me(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=me(f);y.onlineState=m;let E=!1;y.queries.forEach((w,C)=>{for(const F of C.J_)F.ea(m)&&(E=!0)}),E&&jh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Tw(i,e,n){const s=me(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new Ye(le.comparator);f=f.insert(c,Ot.newNoDocument(c,pe.min()));const m=Te().add(c),y=new iu(pe.min(),new Map,new Ye(Ae),f,m);await Dg(s,y),s.La=s.La.remove(c),s.Ba.delete(e),bh(s)}else await ph(s.localStore,e,!1).then(()=>gh(s,e,n)).catch(bs)}async function Iw(i,e){const n=me(i),s=e.batch.batchId;try{const a=await OE(n.localStore,e);xg(n,s,null),Ng(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ca(n,a)}catch(a){await bs(a)}}async function Sw(i,e,n){const s=me(i);try{const a=await function(f,m){const y=me(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let w;return y.mutationQueue.lookupMutationBatch(E,m).next(C=>(Oe(C!==null),w=C.keys(),y.mutationQueue.removeMutationBatch(E,C))).next(()=>y.mutationQueue.performConsistencyCheck(E)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(E,w,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,w)).next(()=>y.localDocuments.getDocuments(E,w))})}(s.localStore,e);xg(s,e,n),Ng(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ca(s,a)}catch(a){await bs(a)}}function Ng(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function xg(i,e,n){const s=me(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function gh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Lg(i,s)})}function Lg(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Oh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),bh(i))}function om(i,e,n){for(const s of n)s instanceof Pg?(i.ka.addReference(s.key,e),Aw(i,s)):s instanceof kg?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Lg(i,s.key)):de()}function Aw(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),bh(i))}function bh(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new le(He.fromString(e)),s=i.Ka.next();i.Ba.set(s,new pw(n)),i.La=i.La.insert(n,s),vg(i.remoteStore,new Br(qn(Ch(n.path)),s,"TargetPurposeLimboResolution",Xl.oe))}}async function ca(i,e,n){const s=me(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(E=>{var w;if((E||n)&&s.isPrimaryClient){const C=E?!E.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(E){a.push(E);const C=Lh.zi(y.targetId,E);c.push(C)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,E){const w=me(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>j.forEach(E,F=>j.forEach(F.Wi,B=>w.persistence.referenceDelegate.addReference(C,F.targetId,B)).next(()=>j.forEach(F.Gi,B=>w.persistence.referenceDelegate.removeReference(C,F.targetId,B)))))}catch(C){if(!$s(C))throw C;te("LocalStore","Failed to update sequence numbers: "+C)}for(const C of E){const F=C.targetId;if(!C.fromCache){const B=w.us.get(F),Y=B.snapshotVersion,X=B.withLastLimboFreeSnapshotVersion(Y);w.us=w.us.insert(F,X)}}}(s.localStore,c))}async function Rw(i,e){const n=me(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await mg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new re($.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ca(n,s.Ts)}}function Cw(i,e){const n=me(i),s=n.Ba.get(e);if(s&&s.Fa)return Te().add(s.key);{let a=Te();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Og(i){const e=me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tw.bind(null,e),e.Ma.R_=cw.bind(null,e.eventManager),e.Ma.Wa=hw.bind(null,e.eventManager),e}function Pw(i){const e=me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sw.bind(null,e),e}class Wl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=su(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return LE(this.persistence,new NE,e.initialUser,this.serializer)}ja(e){return new pg(xh.ei,this.serializer)}za(e){return new jE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wl.provider={build:()=>new Wl};class kw extends Wl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Oe(this.persistence.referenceDelegate instanceof Hl);const s=this.persistence.referenceDelegate.garbageCollector;return new yE(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new pg(s=>Hl.ei(s,n),this.serializer)}}class yh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rw.bind(null,this.syncEngine),await aw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uw}()}createDatastore(e){const n=su(e.databaseInfo.databaseId),s=function(c){return new HE(c)}(e.databaseInfo);return function(c,f,m,y){return new GE(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new YE(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>sm(this.syncEngine,n,0),function(){return em.p()?new em:new bE}())}createSyncEngine(e,n){return function(a,c,f,m,y,E,w){const C=new mw(a,c,f,m,y,E);return w&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=me(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ua(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yh.provider={build:()=>new yh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{te("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(te("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Yc(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await mg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function am(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Dw(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>tm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>tm(e.remoteStore,a)),i._onlineComponents=e}async function Dw(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===$.FAILED_PRECONDITION||a.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;xs("Error using user provided cache. Falling back to memory cache: "+n),await Yc(i,new Wl)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Yc(i,new kw(void 0));return i._offlineComponents}async function Fg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await am(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await am(i,new yh))),i._onlineComponents}function Nw(i){return Fg(i).then(e=>e.syncEngine)}async function _h(i){const e=await Fg(i),n=e.eventManager;return n.onListen=gw.bind(null,e.syncEngine),n.onUnlisten=vw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yw.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ew.bind(null,e.syncEngine),n}function xw(i,e,n={}){const s=new $r;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,E){const w=new Mg({next:F=>{w.eu(),f.enqueueAndForget(()=>Rg(c,C)),F.fromCache&&y.source==="server"?E.reject(new re($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(F)},error:F=>E.reject(F)}),C=new Cg(m,w,{includeMetadataChanges:!0,ua:!0});return Ag(c,C)}(await _h(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(i,e,n){if(!n)throw new re($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Lw(i,e,n,s){if(e===!0&&s===!0)throw new re($.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function um(i){if(!le.isDocumentKey(i))throw new re($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cm(i){if(le.isDocumentKey(i))throw new re($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function lu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de()}function Pi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new re($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lu(i);throw new re($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new re($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ug((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Qv;switch(s.type){case"firstParty":return new Yv(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=lm.get(n);s&&(te("ComponentProvider","Removing Datastore"),lm.delete(n),s.terminate())}(this),Promise.resolve()}}function Ow(i,e,n,s={}){var a;const c=(i=Pi(i,uu))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Lt.MOCK_USER;else{m=C_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new re($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Lt(E)}i._authCredentials=new Wv(new xm(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yr(this.firestore,e,this._query)}}class nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class qr extends Yr{constructor(e,n,s){super(e,n,Ch(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new le(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Gl(i,e,...n){if(i=ki(i),zg("collection","path",e),i instanceof uu){const s=He.fromString(e,...n);return cm(s),new qr(i,null,s)}{if(!(i instanceof nn||i instanceof qr))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return cm(s),new qr(i.firestore,null,s)}}function Mw(i,e,...n){if(i=ki(i),arguments.length===1&&(e=Lm.newId()),zg("doc","path",e),i instanceof uu){const s=He.fromString(e,...n);return um(s),new nn(i,null,new le(s))}{if(!(i instanceof nn||i instanceof qr))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(He.fromString(e,...n));return um(s),new nn(i.firestore,i instanceof qr?i.converter:null,new le(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new yg(this,"async_queue_retry"),this.fu=()=>{const s=Kc();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Kc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Kc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new $r;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!$s(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw dr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=zh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function dm(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class oa extends uu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new fm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fm(e),this._firestoreClient=void 0,await e}}}function Fw(i,e){const n=typeof i=="object"?i:Mv(),s=typeof i=="string"?i:"(default)",a=Nv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=A_("firestore");c&&Ow(a,...c)}return a}function $h(i){if(i._terminated)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Uw(i),i._firestoreClient}function Uw(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,E,w){return new h0(m,y,E,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ug(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new Vw(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(Rt.fromBase64String(e))}catch(n){throw new re($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zs(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=/^__.*__$/;class Bw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new aa(e,this.data,n,this.fieldTransforms)}}function Bg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Gh{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Gh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Kl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Bg(this.Mu)&&zw.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class jw{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||su(e)}$u(e,n,s,a=!1){return new Gh({Mu:e,methodName:n,Ku:s,path:At.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(i){const e=i._freezeSettings(),n=su(i._databaseId);return new jw(i._databaseId,!!e.ignoreUndefinedProperties,n)}function bw(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);qg("Data must be an object, but it was:",f,s);const m=bg(s,f);let y,E;if(c.merge)y=new Vn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const C of c.mergeFields){const F=qw(e,C,n);if(!f.contains(F))throw new re($.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);Qw(w,F)||w.push(F)}y=new Vn(w),E=f.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,E=f.fieldTransforms;return new Bw(new pn(m),y,E)}class Kh extends Hh{_toFieldTransform(e){return new M0(e.path,new ra)}isEqual(e){return e instanceof Kh}}function $w(i,e,n,s=!1){return Yh(n,i.$u(s?4:3,e))}function Yh(i,e){if($g(i=ki(i)))return qg("Unsupported field value:",e,i),bg(i,e);if(i instanceof Hh)return function(s,a){if(!Bg(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=Yh(m,a.ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=ki(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return x0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ft.fromDate(s);return{timestampValue:ql(a.serializer,c)}}if(s instanceof ft){const c=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ql(a.serializer,c)}}if(s instanceof Qh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zs)return{bytesValue:ag(a.serializer,s._byteString)};if(s instanceof nn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wh)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return Ph(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${lu(s)}`)}(i,e)}function bg(i,e){const n={};return Om(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(i,(s,a)=>{const c=Yh(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function $g(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof Qh||i instanceof zs||i instanceof nn||i instanceof Hh||i instanceof Wh)}function qg(i,e,n){if(!$g(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=lu(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function qw(i,e,n){if((e=ki(e))instanceof qh)return e._internalPath;if(typeof e=="string")return Hg(i,e);throw Kl("Field path arguments must be of type string or ",i,!1,void 0,n)}const Hw=new RegExp("[~\\*/\\[\\]]");function Hg(i,e,n){if(e.search(Hw)>=0)throw Kl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new qh(...e.split("."))._internalPath}catch{throw Kl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kl(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new re($.INVALID_ARGUMENT,m+i+y)}function Qw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ww(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ww extends Qg{data(){return super.data()}}function cu(i,e){return typeof e=="string"?Hg(i,e):e instanceof qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new re($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xh{}class Gg extends Xh{}function Kg(i,e,...n){let s=[];e instanceof Xh&&s.push(e),s=s.concat(n),function(c){const f=c.filter(y=>y instanceof Jh).length,m=c.filter(y=>y instanceof hu).length;if(f>1||f>0&&m>0)throw new re($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class hu extends Gg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new hu(e,n,s)}_apply(e){const n=this._parse(e);return Xg(e._query,n),new Yr(e.firestore,e.converter,lh(e._query,n))}_parse(e){const n=jg(e.firestore);return function(c,f,m,y,E,w,C){let F;if(E.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new re($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){mm(C,w);const B=[];for(const Y of C)B.push(pm(y,c,Y));F={arrayValue:{values:B}}}else F=pm(y,c,C)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||mm(C,w),F=$w(m,f,C,w==="in"||w==="not-in");return ot.create(E,w,F)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gw(i,e,n){const s=e,a=cu("where",i);return hu._create(a,s,n)}class Jh extends Xh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const m=c.getFlattenedFilters();for(const y of m)Xg(f,y),f=lh(f,y)}(e._query,n),new Yr(e.firestore,e.converter,lh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zh extends Gg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zh(e,n)}_apply(e){const n=function(a,c,f){if(a.startAt!==null)throw new re($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new re($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new na(c,f)}(e._query,this._field,this._direction);return new Yr(e.firestore,e.converter,function(a,c){const f=a.explicitOrderBy.concat([c]);return new qs(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function Yg(i,e="asc"){const n=e,s=cu("orderBy",i);return Zh._create(s,n)}function pm(i,e,n){if(typeof(n=ki(n))=="string"){if(n==="")throw new re($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qm(e)&&n.indexOf("/")!==-1)throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(He.fromString(n));if(!le.isDocumentKey(s))throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lp(i,new le(s))}if(n instanceof nn)return Lp(i,n._key);throw new re($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lu(n)}.`)}function mm(i,e){if(!Array.isArray(i)||i.length===0)throw new re($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xg(i,e){const n=function(a,c){for(const f of a)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Kw{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Di(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>nt(f.doubleValue));return new Wh(c)}convertGeoPoint(e){return new Qh(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zl(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=He.fromString(e);Oe(dg(s));const a=new ea(s.get(1),s.get(3)),c=new le(s.popFirst(5));return a.isEqual(n)||dr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jg extends Qg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(cu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Fl extends Jg{data(e={}){return super.data(e)}}class Zg{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ho(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Fl(this._firestore,this._userDataWriter,s.key,s,new Ho(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new Fl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ho(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Fl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Ho(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,w=-1;return m.type!==0&&(E=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:Xw(m.type),doc:y,oldIndex:E,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Xw(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}class ef extends Kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function Jw(i){i=Pi(i,Yr);const e=Pi(i.firestore,oa),n=$h(e),s=new ef(e);return Wg(i._query),xw(n,i._query).then(a=>new Zg(e,s,i,a))}function ey(i,e){const n=Pi(i.firestore,oa),s=Mw(i),a=Yw(i.converter,e);return e1(n,[bw(jg(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,hr.exists(!1))]).then(()=>s)}function Zw(i,...e){var n,s,a;i=ki(i);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||dm(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(dm(e[f])){const C=e[f];e[f]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[f+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),e[f+2]=(a=C.complete)===null||a===void 0?void 0:a.bind(C)}let y,E,w;if(i instanceof nn)E=Pi(i.firestore,oa),w=Ch(i._key.path),y={next:C=>{e[f]&&e[f](t1(E,i,C))},error:e[f+1],complete:e[f+2]};else{const C=Pi(i,Yr);E=Pi(C.firestore,oa),w=C._query;const F=new ef(E);y={next:B=>{e[f]&&e[f](new Zg(E,F,C,B))},error:e[f+1],complete:e[f+2]},Wg(i._query)}return function(F,B,Y,X){const Q=new Mg(X),ge=new Cg(B,Q,Y);return F.asyncQueue.enqueueAndForget(async()=>Ag(await _h(F),ge)),()=>{Q.eu(),F.asyncQueue.enqueueAndForget(async()=>Rg(await _h(F),ge))}}($h(E),w,m,y)}function e1(i,e){return function(s,a){const c=new $r;return s.asyncQueue.enqueueAndForget(async()=>ww(await Nw(s),a,c)),c.promise}($h(i),e)}function t1(i,e,n){const s=n.docs.get(e._key),a=new ef(i);return new Jg(i,a,e._key,s,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}function ty(){return new Kh("serverTimestamp")}(function(e,n=!0){(function(a){js=a})(Ov),Bl(new Yo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new oa(new Gv(s.getProvider("auth-internal")),new Jv(s.getProvider("app-check-internal")),function(E,w){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new re($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(E.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ds(Pp,"4.7.5",e),Ds(Pp,"4.7.5","esm2017")})();var n1="firebase",r1="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(n1,r1,"app");const i1={apiKey:"AIzaSyDgem2q7cGEK9Xfm0Gb3S3Yx_kUb-cC3Y8",authDomain:"myreactapp-5ca0c.firebaseapp.com",projectId:"myreactapp-5ca0c",storageBucket:"myreactapp-5ca0c.firebasestorage.app",messagingSenderId:"46126738189",appId:"1:46126738189:web:6adc4bd5b50309da535e44"},s1=Sm(i1),Yl=Fw(s1),o1=({setRoom:i,username:e})=>{const[n,s]=$n.useState([]),[a,c]=$n.useState("");$n.useEffect(()=>{(async()=>{try{const y=Kg(Gl(Yl,"rooms"),Yg("timestamp","asc")),E=await Jw(y);s(E.docs.map(w=>({id:w.id,...w.data()})))}catch(y){console.error("Error fetching rooms:",y)}})()},[]);const f=async()=>{if(a.trim())try{const m=await ey(Gl(Yl,"rooms"),{name:a,timestamp:ty()});s([...n,{id:m.id,name:a,timestamp:new Date}]),c("")}catch(m){console.error("Error creating room:",m)}};return be.jsxs("div",{children:[be.jsxs("h2",{children:["사용자 이름 : ",e]}),be.jsx("h3",{children:"사용 가능한 채팅방"}),be.jsx("ul",{className:"list-group",children:n.map(m=>be.jsx("li",{className:"list-group-item list-group-item-action",onClick:()=>i(m),children:m.name},m.id))}),be.jsx("input",{type:"text",value:a,onChange:m=>c(m.target.value),placeholder:"생성하려는 채팅방의 이름을 입력해주세요",className:"form-control mt-3"}),be.jsx("button",{onClick:f,className:"btn btn-primary mt-2",children:"채팅방 생성하기"})]})},a1=({room:i,username:e})=>{const[n,s]=$n.useState([]),[a,c]=$n.useState("");$n.useEffect(()=>{if(!i)return;const y=Kg(Gl(Yl,"messages"),Gw("roomId","==",i.id),Yg("timestamp","asc")),E=Zw(y,w=>{s(w.docs.map(C=>({id:C.id,...C.data()})))});return()=>E()},[i]);const f=async()=>{a.trim()&&(await ey(Gl(Yl,"messages"),{roomId:i.id,sender:e,text:a,timestamp:ty()}),c(""))},m=y=>{if(!y)return"";const E=y.toDate(),w=E.getHours(),C=E.getMinutes().toString().padStart(2,"0"),F=w>=12?"오후":"오전",B=w>12?w-12:w;return`${F} ${B}:${C}`};return be.jsxs("div",{children:[be.jsxs("h2",{children:["방이름: ",i.name]}),be.jsx("div",{className:"messages",children:n.map(y=>be.jsxs("div",{className:`message ${y.sender===e?"my-message":"other-message"}`,children:[be.jsx("strong",{className:"sender-name",children:y.sender}),be.jsxs("div",{className:"message-content",children:[be.jsx("span",{className:"message-text",children:y.text}),be.jsx("small",{className:"message-time",children:m(y.timestamp)})]})]},y.id))}),be.jsx("input",{type:"text",value:a,onChange:y=>c(y.target.value),placeholder:"메세지를 입력해주세요",className:"form-control"}),be.jsx("button",{onClick:f,className:"btn btn-primary mt-2",children:"전송"})]})},l1=()=>{const[i,e]=$n.useState(null),[n,s]=$n.useState(null);return i?n?be.jsx(a1,{room:n,username:i}):be.jsx(o1,{setRoom:s,username:i}):be.jsx(m_,{setUser:e})};p_.createRoot(document.getElementById("root")).render(be.jsx(a_.StrictMode,{children:be.jsx(l1,{})}));
